_jsload2&&_jsload2('poly', 'function kg(a,b){fb.call(this);this.point=a;this.type=b;this.z={}}x.lang.ua(kg,fb,"Vertex"); x.extend(kg.prototype,{initialize:function(a){this.map=a;var b="",b=this.type?"BMap_vectex BMap_vectex_nodeT":"BMap_vectex BMap_vectex_node",c=this.gH=this.V=document.createElement("div");c.className=b;a.Rf().PO.appendChild(c);this.uA();return c},draw:function(){var a=this.map.Te(this.point);this.gH.style.left=a.x-5+"px";this.gH.style.top=a.y-5+"px"},ta:function(a){a instanceof H&&(this.point=this.z.point=new H(a.lng,a.lat),this.draw())},ha:u("point"),uA:function(){function a(a,b){b.pixel=b.jb=a.jb; b.point=b.point=a.point;return b}function b(a){var b=a.clientX,c=a.clientY;a.changedTouches&&(b=a.changedTouches[0].clientX,c=a.changedTouches[0].clientY);return new Q(b,c)}if(this.V&&!this.V.Ji){this.V.Ji=o;var c=this.map,d=this,e=0,f=0,g=0,i={x:0,y:0};this.As=function(a){oa(a);if(2!=a.button){d.ml=o;var i=c.bc(d.point),m=b(a);e=m.x-i.x;f=m.y-i.y;g=ab();d.map.R.Yu=d;x.M(document,"mousemove",d.ij);x.M(document,"mouseup",d.hj);x.M(document,"touchmove",d.ij);x.M(document,"touchend",d.hj);d.V&&d.V.setCapture&& d.V.setCapture();d.V.style.cursor=d.z.Fd;"touchstart"==a.type&&na(a)}};this.ij=function(g){if(d.ml){g=b(g);i=g=new Q(g.x-e,g.y-f);d.Tz=g;var l=d.map.wb(g),m={jb:g,point:l};d.zl=d.Al=0;if(20>=g.x||g.x>=d.map.width-20||50>=g.y||g.y>=d.map.height-10){if(20>=g.x?d.zl=8:g.x>=d.map.width-20&&(d.zl=-8),50>=g.y?d.Al=8:g.y>=d.map.height-10&&(d.Al=-8),!d.De)d.De=setInterval(function(){c.xg(d.zl,d.Al,{noAnimation:o});var a=c.wb(d.Tz);d.ta(a)},30)}else d.De&&(clearInterval(d.De),d.De=p),d.ta(l);d.el||(d.dispatchEvent(a(m, new O("ondragstart"))),d.el=o);d.dispatchEvent(a(m,new O("ondragging")))}};this.hj=function(){d.V&&d.V.releaseCapture&&d.V.releaseCapture();d.ml=q;d.map.R.Yu=p;x.bd(document,"mousemove",d.ij);x.bd(document,"mouseup",d.hj);x.bd(document,"touchmove",d.ij);x.bd(document,"touchend",d.hj);e=f=0;d.De&&(clearInterval(d.De),d.De=p);if(100<=ab()-g&&(2<i.x||2<i.y))d.el=q,d.dispatchEvent(a({jb:d.map.bc(d.ha()),point:d.ha()},new O("ondragend"))),i.x=i.y=0;d.Ml();d.V&&(d.V.style.cursor=d.z.hf?"pointer":"")};x.M(this.V, "mousedown",this.As);x.M(this.V,"touchstart",this.As)}}});x.extend(sc.prototype,{jQ:function(a){return this.repeat?this.lQ(a):this.kQ(a)},lQ:function(a){var b=this.repeat,c=[],d,e,f;if(this.GI){d=Math.floor(1/this.repeat)+1;for(e=0;e<d;e++)c.push(lg(a,1-b*e,o))}else{f=a.Ui[a.Ui.length-1];d=Math.floor(f/b)+1;for(e=0;e<d;e++)c.push(lg(a,f-e*b,q))}return c},kQ:function(a){return[lg(a,this.Zj,this.FI)]},hide:function(){if(this.Uc&&0<this.Uc.length)for(var a=this.Uc.length-1;0<=a;a--)this.Uc[a].U()},show:function(){if(this.Uc&&0<this.Uc.length)for(var a=this.Uc.length- 1;0<=a;a--)this.Uc[a].show()}});function lg(a,b,c){var d=a.ia;if(c){if(0>=b)return{point:d[0],index:1};if(1<=b)return{point:d[d.length-1],index:d.length-1};c=a.NS*b;b=mg(c,a.Gl);a=(c-a.Gl[b-1])/(a.Gl[b]-a.Gl[b-1])}else{c=b;b=a.Ui[a.Ui.length-1];if(0>=c)return{point:d[0],index:1};if(c>=b)return{point:d[d.length-1],index:d.length-1};b=mg(c,a.Ui);a=(c-a.Ui[b-1])/(a.Ui[b]-a.Ui[b-1])}c=d[b-1];d=d[b];return{point:new H(c.lng+(d.lng-c.lng)*a,c.lat+(d.lat-c.lat)*a),index:b}} x.kc.indexOf=function(a,b,c){var d=a.length,c=c|0;for(0>c&&(c=Math.max(0,d+c));c<d;c++)if(c in a&&a[c]===b)return c;return-1};function mg(a,b){var c=ng(b.concat(a));return x.kc.indexOf(c,a)}function ng(a){if(2>a.length)return a;for(var b=Math.floor(a.length/2),c=a.slice(0,b),a=a.slice(b),c=ng(c),a=ng(a),b=[];0<c.length&&0<a.length;)c[0]>a[0]?b.push(a.shift()):b.push(c.shift());return b.concat(c).concat(a)};x.extend(oc.prototype,{initialize:function(a){a&&this.iv&&a.addEventListener("onmousemove",this.iv);a=fb.prototype.initialize.call(this,a);this.z.lf===o&&(this.mk(),this.Rl());return a},Hj:function(){this.V=(this.Pn=og.Ps(this.map)).uo()},ca:function(){function a(a,b){var c=a.srcElement||a.target,g=Bb(),i=a.pageX?a.pageX:a.clientX+g[1],g=a.pageY?a.pageY:a.clientY+g[0];if(a&&b&&i&&g&&c){var c=x.lang.Kc(c.ba).map,k=x.D.ha(c.Va);b.jb=new Q(i-k.left,g-k.top);b.point=c.wb(b.jb);b.pixel=b.jb;b.point=b.point}return b} var b=this.V,c=this;"canvas"!==og.Ps(this.map).ep()&&!G()&&(c.z.hf&&(b.style.cursor="pointer",x.M(b,"click",function(b){c.nI&&c.nI.nb(c.map.Ka())&&c.dispatchEvent(a(b,ma(new O("onclick"),b)))}),x.M(b,"dblclick",function(b){c.dispatchEvent(a(b,ma(new O("ondblclick"),b)))}),(!x.da.nf||4>x.da.nf)&&x.M(this.V,"contextmenu",function(b){c.dispatchEvent(a(b,ma(new O("onrightclick"),b)))})),x.M(b,"mousedown",function(b){c.dispatchEvent(a(b,ma(new O("onmousedown"),b)));c.nI=c.map.Ka()}),x.M(b,"mouseup",function(b){c.dispatchEvent(a(b, ma(new O("onmouseup"),b)))}),x.M(this.V,"mouseup",function(b){c.dispatchEvent(a(b,ma(new O("onmouseup"),b)));x.da.nf>=4&&(b.button===2&&c.z.hf)&&c.dispatchEvent(a(b,ma(new O("onrightclick"),b)))}));b=p;this.Ji||(this.Ji=o,this.iv=function(a){if(c.map&&!c.map.R.Yu){var b=c.kS(a.point),f=parseFloat(b.Ba),g;if(f<c.z.RM){g=c.Ra.Ox?new O("onmousemove"):new O("onmouseover");c.Ra.mM=q;c.Ra.Ox=o}else if(!c.Ra.mM&&c.Ra.Ox){g=new O("onmouseout");c.Ra.Ox=q;c.Ra.mM=o}if(g){if(!(c instanceof Dc)&&g.type==="onmousemove"&& c.Ra.Ox===o&&(f===0||f>c.z.RM)){g.pixel=g.jb=a.jb;g.point=g.point=a.point}else{g.point=g.point=this.nN(b.jb);g.pixel=g.jb=this.bc(g.point)}c.dispatchEvent(g)}}},this.map.addEventListener("onmousemove",this.iv),this.addEventListener("mouseover",s()),this.addEventListener("mouseout",s()))},draw:function(a){this.V&&this.Pn&&("canvas"===this.Pn.Mb&&this.Iv?(this.Iv(),this.Pn.he(this.V,this.Vq(this.ia),this.z)):this.Pn.he(this.V,this.Vq(this.ia)),this instanceof Dc&&this.z.ni&&this.mR(a))},yb:function(){this.map&& (this.initialize(this.map),this.V.style.WebkitUserSelect="none",this.draw())},Vq:function(a){var b=this.map,c=[],d=b.Hd(),e=this.Hd();if(!d.gt(e)||0===a.length||!this.V||!this.kh())return[c];this.z.lf||(d=this.rm(b.fa()),this.ef[d]?a=this.ef[d]:(a=pg(a,this.vk(b.fa())),a=this.ef[d]=a));d=this.z.V_;c.push(b.Te(a[0],p,d));for(var f=e=1,g=a.length;e<g;e++){var i=b.Te(a[e],p,d);i.nb(c[f-1])||(c.push(i),f++)}return[c]},rm:function(a){return this.z.rm?this.z.rm(a):6>a?0:10>a?1:15>a?2:3},vk:function(a){return this.z.vk? this.z.vk(a):oc.OE[this.rm(a)]},Hr:function(a){this.ef.length=0;a=oc.ix(a);this.po=a.slice(0,a.length-1);this.ia=a.slice(0);this.Eh();this.draw();this.dispatchEvent(new O("onlineupdate"))},he:function(a){this.Hr(a);this.z.lf===o&&(this.mk(),this.Rl())},dn:function(a,b){b&&this.ia[a]&&(this.ef.length=0,this.ia[a]=new H(b.lng,b.lat),this.Eh(),this.z.lf===o&&(this.mk(),this.Rl()),this.draw(),this.dispatchEvent(new O("onlineupdate")))},setStrokeColor:function(a){this.z&&(this.z.strokeColor=a);this.Il("strokecolor", a)},Op:function(a){0<a&&(this.z.nc=a,this.Il("strokeweight",a),"dashed"===this.BL()&&(this.map&&"svg"===og.Ps(this.map).ep())&&this.Il("strokestyle","dashed"))},Mp:function(a){a===j||(1<a||0>a)||(this.z.rd=a,this.map&&this.Il("strokeopacity",a))},Ot:function(a){1<a||0>a||(this.z.qg=a,this.Il("fillopacity",a))},Np:function(a){"solid"!==a&&"dashed"!==a||(this.z.strokeStyle=a,this.Il("strokestyle",a))},setFillColor:function(a){this.z.fillColor=a||"";this.Il("fillcolor",a)},Il:function(a,b){this.Pn&& (this.Pn.setAttribute(this.V,a,b||"",this.CL()),this.dispatchEvent(new O("onlineupdate")))},Rl:function(){var a=this;if(!a.oc.length)for(var b=this.HL(),c=function(b){a.xv(b)},d=s(),e=function(b){a.XA(b)},f=0,g=b.length;f<g;f++){var i=b[f],k=new kg(i.ub,i.oa);k.addEventListener("ondragging",c);k.addEventListener("ondragstart",d);k.addEventListener("ondragend",e);k.index=f;k.oa=i.oa;this.oc.push(k);this.map.Ja(k)}},mk:function(){for(var a;a=this.oc.pop();)this.map.Tb(a);this.oc.length=0},HL:function(){for(var a= [],b=0,c=this.ia.length;b<c;b++){var d=this.ia[b];a.push({ub:d,oa:0});if(b<c-1){var e=this.ia[b+1],d=new H((d.lng+e.lng)/2,(d.lat+e.lat)/2);a.push({ub:d,oa:1})}}return this.Rc=a},Z0:s(),XA:function(a){this.Ra.gj&&(this.map.Tb(this.Ra.gj),delete this.Ra.gj);this.Ra.wi&&(this.map.Tb(this.Ra.wi),delete this.Ra.wi);this.Ra.si&&(this.map.Tb(this.Ra.si),delete this.Ra.si);var b=a.point,a=a.currentTarget.index,c;if(0!==a%2){this.Oz(a);this.pq(a,b,0);var d=this.Rc[a-1].ub;c=this.Rc[a+1].ub;d=this.Ms(d,b); c=this.Ms(b,c);this.pq(a,d,1);this.pq(a+2,c,1);a=Math.ceil(a/2);c=this.ia.slice();a=c.splice(a,this.ia.length-a);c[c.length]=b;c=c.concat(a)}else this.Rc[a].ub=b,0<=a-2&&(d=this.Rc[a-2].ub,d=this.Ms(d,b),this.oc[a-1].show(),this.oc[a-1].ta(d)),a+2<this.Rc.length&&(c=this.Rc[a+2].ub,c=this.Ms(b,c),this.oc[a+1].show(),this.oc[a+1].ta(c)),this instanceof Cc&&this.Rc.length-1===a&&(this.Oz(0),this.pq(0,b,0),this.Oz(1),this.pq(1,this.Ms(this.Rc[0].ub,this.Rc[1].ub),1),this.oc[0].V.style.zIndex="-10000000"), a/=2,this.ia.splice(a,1,b),this instanceof Cc&&this.ia.length-1===a&&this.ia.splice(0,1,b),c=this.ia;b=0;for(a=this.oc.length;b<a;b++)this.oc[b].index=b;this.ia=c;this.Hr(c)},pq:function(a,b,c){var d=this;this.Rc.splice(a,0,{ub:b,oa:c});b=new kg(b,c);b.addEventListener("ondragging",function(a){d.xv(a)});b.addEventListener("ondragstart",s());b.addEventListener("ondragend",function(a){d.XA(a)});b.index=a;b.oa=c;this.oc.splice(a,0,b);this.map.Ja(b)},Oz:function(a){this.map.Tb(this.oc[a]);this.Rc.splice(a, 1);this.oc.splice(a,1)},Ms:function(a,b){return new H((a.lng+b.lng)/2,(a.lat+b.lat)/2)},kS:function(a){var b,c,d,e,f,g,i=[],k=this.map.Te(a),i=this.Vq(this.ia)[0],l=i.length;if(1<l){for(e=1;e<l;e++){var m=i[e-1],n=i[e];if(m&&n){m.x!==n.x?(f=(n.y-m.y)/(n.x-m.x),f=Math.abs(f*k.x+(n.y-f*n.x)-k.y)/Math.sqrt(f*f+1)):f=Math.abs(k.x-n.x);var t=Math.pow(n.y-m.y,2)+Math.pow(n.x-m.x,2),n=Math.pow(n.y-k.y,2)+Math.pow(n.x-k.x,2),m=Math.pow(m.y-k.y,2)+Math.pow(m.x-k.x,2),v=Math.pow(f,2);n-v+m-v>t&&(f=Math.sqrt(Math.min(n, m)));if(b==p||b>f)c=Math.sqrt(m-v)/Math.sqrt(t),d=Math.sqrt(n-v)/Math.sqrt(t),b=f,g=e;b=Math.min(b,f)}}if(!(this instanceof Dc)){f=k=0;t=this.ia;for(e=0;e<l;e++)k=e===l-1?0:k+1,t[e].lat!==t[k].lat&&((a.lat>=t[e].lat&&a.lat<t[k].lat||a.lat>=t[k].lat&&a.lat<t[e].lat)&&a.lng<(t[k].lng-t[e].lng)*(a.lat-t[e].lat)/(t[k].lat-t[e].lat)+t[e].lng)&&f++;b=Math.min(b,0<f%2?0:b)}1<c&&(c=1);1<d&&(c=0);a=i[g-1].y-i[g].y;e=i[g-1].x-(i[g-1].x-i[g].x)*c;f=i[g-1].y-a*c}return{jb:new Q(e,f),Ba:b}},show:function(){fb.prototype.show.call(this); this.draw();this.z.lf===o&&this.Rl()},U:function(){fb.prototype.U.call(this);this.z.lf===o&&this.mk()},remove:function(){kc.prototype.remove.call(this);this.z.lf===o&&this.mk()}});function qg(a,b){var c={top:0,bottom:0,right:0,left:0,all:0},d=a.x,e=a.y;e<b.PM?(c.top=8,c.all+=c.top):e>b.LM&&(c.bottom=4,c.all+=c.bottom);d>b.KM?(c.right=2,c.all+=c.right):d<b.OM&&(c.left=1,c.all+=c.left);return c} function pg(a,b){if(1>=a.length)return a;var c=a,d=b!==j?b*b:1,e=c.length,f=new ("undefined"!==typeof Uint8Array?Uint8Array:Array)(e),g=0,i=e-1,k=[],l=[],m,n,t,v;for(f[g]=f[i]=1;i;){n=0;for(m=g+1;m<i;m++){t=c[m];var w=c[g],y=c[i],C=w.lng,w=w.lat,A=y.lng-C,D=y.lat-w;if(0!==A||0!==D){var B=((t.lng-C)*A+(t.lat-w)*D)/(A*A+D*D);1<B?(C=y.lng,w=y.lat):0<B&&(C+=A*B,w+=D*B)}A=t.lng-C;D=t.lat-w;t=A*A+D*D;t>n&&(v=m,n=t)}n>d&&(f[v]=1,k.push(g,v,v,i));i=k.pop();g=k.pop()}for(m=0;m<e;m++)f[m]&&l.push(c[m]);return l} S(cf,{show:cf.show,hide:cf.U,remove:cf.remove,setPath:cf.he,setPositionAt:cf.dn,setStrokeColor:cf.setStrokeColor,setStrokeWeight:cf.Op,setStrokeOpacity:cf.Mp,setFillOpacity:cf.Ot,setStrokeStyle:cf.Np,setFillColor:cf.setFillColor});x.extend(Dc.prototype,{initialize:function(a){oc.prototype.initialize.call(this,a);this.SI=[0];this.Fr=[0];this.Gl=[0];for(var a=1,b=this.ia,c=b.length;a<c;a++){this.SI[a]=R.To(b[a],b[a-1]);var d=R.zb(b[a-1]),e=R.zb(b[a]);this.Fr[a]=90-180*Math.atan2(e.lat-d.lat,e.lng-d.lng)/Math.PI;this.Gl[a]=this.Gl[a-1]+this.SI[a]}this.NS=this.Gl[c-1];this.Iv();this.Hv={};return this.V},Iv:function(){this.setFillColor("");this.setStrokeColor(this.z.strokeColor);this.Op(this.z.nc);this.Np(this.z.strokeStyle);this.Mp(this.z.rd)}, Vq:function(a){var b=this.map,c=[],d=b.Hd(),e=this.Hd();if(!d.gt(e)||0==a.length||!this.V||!this.kh())return[c];!(G()&&5E3<a.length)&&!this.z.lf&&(d=this.rm(b.fa()),this.ef[d]?a=this.ef[d]:(e=pg(a,this.vk(b.fa())),a=this.ef[d]=e));c.push(b.Te(a[0]));for(var f=d=1,e=a.length;d<e;d++){var g=b.Te(a[d]);g.nb(c[f-1])||(c.push(g),f++)}a=[];d=b.offsetX;e=b.offsetY;f=b.K.Vw;b={OM:-d-f,PM:-e-f,KM:-d+f+b.width,LM:-e+f+b.height};d=0;for(e=c.length-1;d<e;d++){var i=c[d],k=c[d+1],f=b,l=g=q,m=q,i=new Q(i.x,i.y), k=new Q(k.x,k.y),n=qg(i,f),t=qg(k,f),v=j,w=j,y=j,C=f.OM,A=f.PM,D=f.KM,B=f.LM;do 0===n.all&&0===t.all?m=g=o:0!==(n.all&t.all)?m=o:(v=0!==n.all?n:t,v.top?(w=i.x+(k.x-i.x)*(A-i.y)/(k.y-i.y),y=A):v.bottom?(w=i.x+(k.x-i.x)*(B-i.y)/(k.y-i.y),y=B):v.right?(y=i.y+(k.y-i.y)*(D-i.x)/(k.x-i.x),w=D):v.left&&(y=i.y+(k.y-i.y)*(C-i.x)/(k.x-i.x),w=C),l=o,v.all===n.all)?(i.x=Math.round(w),i.y=Math.round(y),n=qg(i,f)):(k.x=Math.round(w),k.y=Math.round(y),t=qg(k,f));while(!m);f=g?{rN:new Q(i.x,i.y),sN:new Q(k.x,k.y), clip:l?o:q}:j;f&&a.push(f)}c=[[]];d=0;for(e=a.length;d<e;d++)a[d].clip?(c[c.length-1].push(a[d].rN),c[c.length-1].push(a[d].sN),a[d+1]&&a[d+1].clip&&c.push([])):(c[c.length-1].push(a[d].rN),d==a.length-1&&c[c.length-1].push(a[d].sN));return c},hide:function(){oc.prototype.U.call(this);if(this.z.ni&&0<this.z.ni.length)for(var a=0,b=this.z.ni.length;a<b;a++)this.z.ni[a].hide()},show:function(){oc.prototype.show.call(this);if(this.z.ni&&0<this.z.ni.length)for(var a=0,b=this.z.ni.length;a<b;a++)this.z.ni[a].show()}, mR:function(a){var b=this.nx(),c=b.fa(),d=b.Hd();icons=this.z.ni;displayPixels=oc.prototype.Vq.call(this,this.ia);if(this.Hv[c]&&0<this.Hv[c].length)this.Ui=this.Hv[c];else{for(var e=[0],f=1,g=displayPixels[0],i=g.length;f<i;f++)e[f]=e[f-1]+Cb(g[f],g[f-1]);this.Ui=this.Hv[c]=e}for(f=0;f<icons.length;f++){var e=icons[f],g=e.v_,k,l;e.Bv[c]&&0<e.Bv[c].length?l=e.Bv[c]:e.Bv[c]=l=e.jQ(this);if(1===l.length)d.cs(l[0].point)&&(e.Uc[0]&&(b.Tb(e.Uc[0]),e.Uc[0].remove()),e.$K||(7===g.Mb||5===g.Mb?g.Lp(-180+ this.Fr[l[0].index]):g.Lp(this.Fr[l[0].index])),e.Uc[0]=new T(l[0].point,{icon:g}),b.Ja(e.Uc[0]));else if(1<l.length){var m=[],n,t={};if(a&&"onzoomend"===a.type){for(var v in e.Uc)b.Tb(e.Uc[v]),e.Uc[v].remove();e.Uc=[]}else x.kc.Gb(e.Uc,function(a){d.cs(a.ha())?(n=""+a.ha().lat+(""+a.ha().lng),t[n]=o,m.push(a)):(b.Tb(a),a.remove())}),e.Uc=m;for(v=0;v<l.length;v++){k=l[v].index;var i=l[v].point,w=""+i.lat+(""+i.lng);d.cs(i)&&!t[w]&&(e.$K||(7===g.Mb||5===g.Mb?g.setRotation(-180+this.Fr[k]):g.setRotation(this.Fr[k])), i=new T(i,{icon:g}),e.Uc.push(i),b.Ja(i))}}}},xv:function(a){var b=a.currentTarget,c=a.point,d=b.index,e=this.Rc,f,g=a=p;if(0==d){var i=e[d+2].ub;f=[c,i];a=new H((i.lng+c.lng)/2,(i.lat+c.lat)/2);this.oc[d+1]&&this.oc[d+1].U()}else if(d==e.length-1){var k=e[d-2].ub;f=[k,c];a=new H((k.lng+c.lng)/2,(k.lat+c.lat)/2);this.oc[d-1]&&this.oc[d-1].U()}else k=e[d-1].ub,i=e[d+1].ub,f=[k,c,i],b.oa||(k=e[d-2].ub,i=e[d+2].ub,f=[k,c,i],a=new H((k.lng+c.lng)/2,(k.lat+c.lat)/2),g=new H((i.lng+c.lng)/2,(i.lat+c.lat)/ 2),this.oc[d-1]&&this.oc[d-1].U(),this.oc[d+1]&&this.oc[d+1].U());this.Ra.gj?(this.Ra.gj.he(f),this.Ra.gj.show()):(b=new Dc(f,{strokeStyle:"dashed",strokeColor:this.z.strokeColor,nc:this.z.nc,rd:this.z.rd}),this.map.Ja(b),b.U(),this.Ra.gj=b);!this.Ra.wi&&a?(this.Ra.wi=new kg(a,1),this.map.Ja(this.Ra.wi)):a&&this.Ra.wi.ta(a);!this.Ra.si&&g?(this.Ra.si=new kg(g,1),this.map.Ja(this.Ra.si)):g&&this.Ra.si.ta(g)}});x.kc.remove=function(a,b){for(var c=a.length;c--;)a[c]===b&&a.splice(c,1);return a};x.extend(Cc.prototype,{initialize:function(a){oc.prototype.initialize.call(this,a);this.setStrokeColor(this.z.strokeColor);this.Op(this.z.nc);this.Np(this.z.strokeStyle);this.setFillColor(this.z.fillColor);this.Mp(this.z.rd);this.Ot(this.z.qg);return this.V},dn:function(a,b){this.po[a]&&(this.ef.length=0,this.po[a]=new H(b.lng,b.lat),this.ia[a]=new H(b.lng,b.lat),0==a&&!this.ia[0].nb(this.ia[this.ia.length-1])&&(this.ia[this.ia.length-1]=new H(b.lng,b.lat)),this.Eh(),this.z.lf==o&&(this.mk(),this.Rl()), this.draw(),this.dispatchEvent(new O("onlineupdate")))},Iv:function(){this.setStrokeColor(this.z.strokeColor);this.Op(this.z.nc);this.Np(this.z.strokeStyle);this.setFillColor(this.z.fillColor);this.Mp(this.z.rd);this.Ot(this.z.qg)},containPoint:function(a){var b=this.ia,c=q;if(!(!a instanceof H)){if(this.Lu.cs(a)){for(var d=a.lat,a=a.lng,e=0,f=b.length-1;e<b.length;f=e++){var g=b[e].lat,i=b[e].lng,k=b[f].lat,f=b[f].lng;i>a!=f>a&&d<(k-g)*(a-i)/(f-i)+g&&(c=!c)}return c}return q}},xv:function(a){var b= a.currentTarget,c=a.point,d=b.index,e=this.Rc,f,g=a=p;if(0==d){var i=e[e.length-2].ub,k=e[d+2].ub;f=[i,c,k];b.oa||(a=new H((i.lng+c.lng)/2,(i.lat+c.lat)/2),g=new H((k.lng+c.lng)/2,(k.lat+c.lat)/2))}else d==e.length-1?(k=e[2].ub,i=e[d-2].ub,f=[i,c,k],b.oa||(a=new H((i.lng+c.lng)/2,(i.lat+c.lat)/2),g=new H((k.lng+c.lng)/2,(k.lat+c.lat)/2))):(i=e[d-1].ub,k=e[d+1].ub,f=[i,c,k],b.oa||(i=e[d-2].ub,k=e[d+2].ub,f=[i,c,k],a=new H((i.lng+c.lng)/2,(i.lat+c.lat)/2),g=new H((k.lng+c.lng)/2,(k.lat+c.lat)/2),this.oc[d- 1]&&this.oc[d-1].U(),this.oc[d+1]&&this.oc[d+1].U()));this.Ra.gj?this.Ra.gj.he(f):(b=new Dc(f,{strokeStyle:"dashed",strokeColor:this.z.strokeColor,nc:this.z.nc,rd:this.z.rd}),this.map.Ja(b),this.Ra.gj=b);!this.Ra.wi&&a?(this.Ra.wi=new kg(a,1),this.map.Ja(this.Ra.wi)):a&&this.Ra.wi.ta(a);!this.Ra.si&&g?(this.Ra.si=new kg(g,1),this.map.Ja(this.Ra.si)):g&&this.Ra.si.ta(g)}});S(ef,{setPositionAt:ef.dn});x.extend(Ec.prototype,{initialize:function(a){Cc.prototype.initialize.call(this,a);this.ia=this.ev(this.point,this.xa);this.Eh();return this.V},Wf:function(a,b){a&&(this.ef.length=0,b||(this.Rc=p),this.point=a,this.ia=this.ev(a,this.xa),this.Eh(),this.draw(),this.dispatchEvent(new O("onlineupdate")))},vf:function(a,b){isNaN(a)||(this.ef.length=0,b||(this.Rc=p),this.xa=Math.abs(a),this.ia=this.ev(this.point,this.xa),this.Eh(),this.draw(),this.dispatchEvent(new O("onlineupdate")))},vk:function(a){return this.z.vk? this.z.vk(a):Ec.OE[this.rm(a)]},xv:function(a){var b,a=a.currentTarget,c=this.Rc;b=c[0].ub;c=c[c.length-1].ub;0==a.index?(b=a.ha(),a=c):a=a.ha();this.vf(R.To(b,a),o);this.Wf(b,o)},XA:function(a){var a=a.currentTarget,b=a.index;this.Rc[0]={ub:this.point,oa:0};1==b&&(this.Rc[1]={ub:a.point,oa:0});this.mk();this.Rl()},HL:function(){if(!this.Rc){var a=[];a.push({ub:this.point,oa:0});a.push({ub:this.ia[Math.floor(3*this.ia.length/4)],oa:0});this.Rc=a}return this.Rc}});S(df,{setCenter:df.Wf,setRadius:df.vf});var og={Ps:function(a){og["_"+a.ba]||(og["_"+a.ba]={});switch(a.K.MK){case 1:return og.DL(a);case 2:return og.IL(a);case 3:return og.BD(a)}if(G()&&og.iM()&&4!==a.K.MK)return og.BD(a);if(og.qY())return og.DL(a);if(og.rY())return og.IL(a);if(og.iM())return og.BD(a)},DL:function(a){og["_"+a.ba].jJ||(og["_"+a.ba].jJ=new z.CP(a));return og["_"+a.ba].jJ},IL:function(a){og["_"+a.ba].uJ||(og["_"+a.ba].uJ=new z.FP(a));return og["_"+a.ba].uJ},BD:function(a){og["_"+a.ba].SG||(og["_"+a.ba].SG=new z.cP(a));return og["_"+ a.ba].SG},rY:function(){if(Eb(og.mO))return og.mO;var a=Jb();return og.mO=a},qY:function(){Eb(og.lO)||(og.lO=Kb());return og.lO},iM:function(){Eb(og.kO)||(og.kO=Nb());return og.kO}};z.bq=og; ');
