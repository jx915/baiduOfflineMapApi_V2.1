_jsload2&&_jsload2('route', 'var jh={web:"http://api.map.baidu.com/direction?",android:"bdapp://map/direction?",ios:"baidumap://map/direction?"};function kh(a){this.city=a.city;this.Ov=a.start;this.$u=a.end;this.sr=a.Ft;this.moreResultsUrl=a.url;this.taxiFare=a.nO||p;this.pU=a.gO||jd;this.tR=a.TK||jd}x.extend(kh.prototype,{rj:u("Ov"),gh:u("$u"),BX:u("pU"),YW:u("tR"),qx:function(){return this.sr.length},qf:function(a){if(this.sr[a])return this.sr[a]}});function lh(a){kh.call(this,a);this.policy=a.$c}x.ua(lh,kh,"DrivingRouteResult"); function mh(a){kh.call(this,a)}x.ua(mh,kh,"WalkingRouteResult");function nh(a){kh.call(this,a);this.policy=a.$c}x.ua(nh,kh,"TransitRouteResult");var oh=kh.prototype;S(oh,{getStart:oh.rj,getEnd:oh.gh,getStartStatus:oh.BX,getEndStatus:oh.YW,getNumPlans:oh.qx,getPlan:oh.qf});function ph(a){this.dk=a.fF.slice(0);this.cg=a.md||0;this.Mq=a.duration||0;this.cR=a.nW||[]}x.extend(ph.prototype,{ih:function(a){if(this.dk[a])return this.dk[a]},Vs:function(){return this.dk.length},Re:function(a){return a===q?this.cg:qh(this.cg)},Qs:function(a){return a===q?this.Mq:rh(this.Mq,"nav")},WW:u("cR")});var sh=ph.prototype;S(sh,{getNumRoutes:sh.Vs,getRoute:sh.ih,getDistance:sh.Re,getDuration:sh.Qs,getDragPois:sh.WW});function th(a){ph.call(this,a);this.Ri=a.zY;this.dl=a.description;this.Mq=a.duration||0}x.ua(th,ph,"TransitRoutePlan"); x.extend(th.prototype,{px:function(){return this.Ri.length},LD:function(a){if(this.Ri[a])return this.Ri[a]},fh:function(a){return a===q?P.AN(this.dl):this.dl},Qs:function(a){return a===q?this.Mq:rh(this.Mq,"bustime")},hX:function(){for(var a="",b=this.Ri.length-1,c=0;c<b;c++)this.Ri[c]&&this.Ri[c].title&&(a+=this.iL(this.Ri[c].title)+" \\u2192 ");return a+=this.iL(this.Ri[b].title)},iL:function(a){return a.substring(0,a.indexOf("("))},NX:function(){for(var a=0,b=this.dk.length,c=0;c<b;c++)a+=this.dk[c].Re(q); return qh(a)}});var uh=th.prototype;S(uh,{getNumLines:uh.px,getLine:uh.LD,getNumRoutes:uh.Vs,getRoute:uh.ih,getDistance:uh.Re,getDuration:uh.Qs,getDescription:uh.fh});function vh(a){this.Nr=a.Aj&&a.Aj.slice(0)||[];this.cg=a.md||0;this.Sj=a.index||0;this.ur=a.ia.slice(0);this.bB=a.PE||0;this.WT=a.qy;0===this.cg&&2<this.ur.length&&(this.ur.length=2)}x.extend(vh.prototype,{sx:function(){return this.Nr.length},AL:function(a){if(this.Nr[a])return this.Nr[a]},Re:function(a){return a===q?this.cg:qh(this.cg)},JD:u("Sj"),$o:u("Ti"),qe:u("ur"),bp:u("WT"),sX:u("bB")});var wh=vh.prototype; S(wh,{getNumSteps:wh.sx,getStep:wh.AL,getDistance:wh.Re,getIndex:wh.JD,getPolyline:wh.$o,getPath:wh.qe,getRouteType:wh.bp});function xh(a){this.title=a.title;this.uid=a.uid;this.type=a.type;this.Wi=a.o_.slice(0);this.ur=a.ia.slice(0);this.cg=a.md||0;this.gT=a.RY||0;this.Bd=a.status||{}}x.extend(xh.prototype,{nX:u("gT"),HD:function(){return this.Wi[0]},GD:function(){return this.Wi[1]},qe:u("ur"),$o:u("Ti"),Re:function(a){return a===q?this.cg:qh(this.cg)},cp:u("title")});var yh=xh.prototype;S(yh,{getNumViaStops:yh.nX,getGetOnStop:yh.HD,getGetOffStop:yh.GD,getPath:yh.qe,getPolyline:yh.$o,getDistance:yh.Re,getTitle:yh.cp});function zh(a){this.Uh=a.point;this.Sj=a.index;this.dl=a.description;this.cg=a.md||0;this.TT=a.b4||0;this.bB=a.PE||0}x.extend(zh.prototype,{ha:u("Uh"),JD:u("Sj"),fh:function(a){return a===q?P.AN(this.dl):this.dl},Re:function(a){return a===q?this.cg:qh(this.cg)},O2:u("TT"),sX:u("bB")});var Ah=zh.prototype;S(Ah,{getPosition:Ah.ha,getIndex:Ah.JD,getDescription:Ah.fh,getDistance:Ah.Re});x.extend(Cd.prototype,{va:function(a){window.RouteAddrInst=this;var b={},a=this.fc=this.dZ(this.fc,a);if(a.result){var c=this.ae=a.content.tpList.length+1,d=a.content,e=[],f=[],g=["sel_n","sel_n1","sel_y","sel_x","sel_x1"],i=[-1,-1],k=[],f=[];this.hu=[a.current_city.code,a.current_city.code];tempCode=a.current_city.code;for(var l=0;l<c+1;l++){var m=p;e.push([]);k.push("");f.push("");0==l?a.result.start_city&&(this.hu[0]=a.result.start_city.code||a.result.start_city[0].code,tempCode=this.hu[0]):a.result.end_city&& (this.hu[l]=a.result.end_city.code||a.result.end_city[l-1].code,tempCode=this.hu[l]);m=this.ki(l);if(0<a.result.count[l]&&1!=a.result.city_list[l]){13!=a.result.type&&24!=a.result.type&&(f[l]=\'<a href="javascript:void(0)" ></a>\');e[l].push(\'<div id="RADiv_ResItem\'+l+\'" class="sel_body_body_div sel_body_resitem">\');var n=[0,9];10>m.length&&(n[1]=m.length-1);e[l].push(this.HM(l,n));10<a.result.count[l]&&(e[l].push(\'<div id="RADiv_PAGE\'+l+\'" style="height:20px;" class="sel_body_body_page"></div>\'),this.wO[l]= Math.ceil(a.result.count[l]/10),this.gs[l]=1);e[l].push("</div>");1==a.result.prio_flag[l]?(i[l]=2,this.Ma[l].n=m[0].name,this.Ma[l].c=tempCode,this.Ma[l].u=m[0].uid,n=R.zb(P.vb(m[0].geo,o).point),this.Ma[l].x=n.lng,this.Ma[l].y=n.lat,this.Ma[l].t=m[0].poiType,this.wg=n=this.FJ(this.k.ka.map,n,m[0].name,l),this.AE.push(n.point),k[l]=m[0].name):i[l]=0}}for(var t,v,l=0;l<i.length;l++)if(m=i[l],3==m&&!t)this.fj=l,v&&(i[v-1]=1),t=l+1;else if(t){if(0==m||3==m)i[l]=m+1}else 0==m&&!v?(this.fj=l,v=l+1):v&& 0==m&&(i[l]=1);b.startPointClass=g[i[0]];this.Hy=a.result.s_query?a.result.s_query:a.result.s_wd;b.startPoint=""==k[0]?this.Hy:k[0];b.startBody=e[0].join("");b.endPointClass=g[i[c]];this.$w=a.result.e_query?"string"==typeof a.result.e_query?a.result.e_query:a.result.e_query[c-1]:"string"==typeof a.result.e_wd?a.result.e_wd:a.result.e_wd[c-1];b.endPoint=""==k[c]?this.$w:k[c];b.endBody=e[c].join("");b.startButton=f[0];b.endIndex=c;b.endButton=f[c];this.yO=[];t=[""];for(l=0;l<d.tpList.length;l++)v=l+ 1,c=k[v],""==c&&(c=a.result.U1[l]),this.yO.push(c),t.push([\'<div id="RouteAddress_DIV\'+v+\'" class="\'+g[i[v]]+\'">\',\'  <div class="sel_body">\',\'    <div class="sel_body_top"  onclick="RouteAddrInst.showLst(\'+v+\')">\',\'     <div class="sel_body_title">\\n        <div class="sel_body_sign"></div>\',\'        <div class="sel_body_name">\\u9014\\u7ecf\\u70b9\'+v+\'\\uff1a<b id="B_PointName\'+v+\'">\'+c+"</b></div>","      </div>",\'     <div id="RD_TOP_BUT\'+v+\'" class="sel_body_button">\'+f[v]+"</div>","    </div>",\'    <div class="sel_body_body" id="RADIV_BODY\'+ v+\'">\'+e[v].join("")+"</div>","  </div>\\n</div>"].join("\\n"));b.tpList=t.join("");return this.z_(b)}},VB:function(){var a;x.$("RouteAddress_DIV0")&&(a=x.$("RouteAddress_DIV0").getElementsByTagName("tr"),this.JN(a));x.$("RouteAddress_DIV1")&&(a=x.$("RouteAddress_DIV1").getElementsByTagName("tr"),this.JN(a));var b=this;this.Cb&&this.Cb.addEventListener("open",function(){var a=x.$("selInfoWndBtn");x.M(a,"click",function(){var c=a.getAttribute("data-uid").split("_");b.itmSelect(c[0],c[1])});x.M(a,"mouseover", function(){b._selBtnOver(a)});x.M(a,"mousedown",function(){b._selBtnDown(a)});x.M(a,"mouseout",function(){b._selBtnOut(a)})});var c,d;x.$("RouteAddress_DIV0")&&(c=x.$("RouteAddress_DIV0").firstChild.firstChild,x.M(c,"click",function(){var a=c.getAttribute("data-uid");b.showLst(a)}));x.$("RouteAddress_DIV1")&&(d=x.$("RouteAddress_DIV1").firstChild.firstChild,x.M(d,"click",function(){var a=d.getAttribute("data-uid");b.showLst(a)}))},JN:function(a){var b=this;this.Gb(a,function(a,d){x.M(d,"mouseover", function(a){var c=d.getAttribute("data-uid").split("_");n2=parseInt(c[1],10);gg=parseInt(c[2],10);b._lstMouseOver(this,0,c[0],gg-n2,a)});x.M(d,"mouseout",function(a){var c=d.getAttribute("data-uid").split("_");n2=parseInt(c[1],10);gg=parseInt(c[2],10);b._lstMouseOut(this,0,c[0],gg-n2,a)});x.M(d,"click",function(a){var c=d.getAttribute("data-uid").split("_"),e=parseInt(c[0],10);n2=parseInt(c[1],10);gg=parseInt(c[2],10);b.select(e,gg,a)});var e=d.childNodes[2].getElementsByTagName("div")[0];x.M(e,"click", function(){var a=e.getAttribute("data-uid").split("_");b.itmSelect(a[0],a[1])});x.M(e,"onmouseover",function(){b._selBtnOver(e)});x.M(e,"onmouseout",function(){b._selBtnOut(e)});x.M(e,"onmousedown",function(){b._selBtnDown(e)})})},dZ:function(a,b){a.content||(a.content={start:[],end:[]});a.content.tpList=[];if(19==a.result.type){this.eZ(a,b);var c=a.content,d=[],e=c.length;a.content={start:[],end:[]};if(2<e)for(var f=1;f<e-1;f++)d.push(c[f]);a.content.end=c[e-1];a.content.tpList=d;a.content.start= c[0]}return a},eZ:function(a,b){var c={},d,e=0,f=0,g=[],i,k=a.result;d=[];c.city_list=[];c.count=[];c.current_null=[];c.e_query=[];c.e_wd=[];c.end_city=[];c.wd2=[];c.prio_flag=[];c.sug_index=[];c.total=[];c.s_wd="";c.s_query="";this.zw=[];k.e_wd||(k.e_wd=[],k.e_query=[]);d=this.qN(b.start);i=d.type;c.s_wd=1==i?d.tb:k.s_wd;c.s_query=1==i?d.tb:k.s_query;1==i&&(this.Ma[e].o=c.s_wd,this.Ma[e].x=d.point.split(",")[0],this.Ma[e].y=d.point.split(",")[1]);this.zw.push(2==i);c.total.push(1==i?1:k.total[f]); c.count.push(1==i?1:k.count[f]);c.current_null.push(1==i?0:k.current_null[f]);c.prio_flag.push(1==i?1:k.prio_flag[f]);c.sug_index.push(1==i?"":k.sug_index[f]);g.push(1==i?[{name:d.tb,geo:"1|"+d.point+";"+d.point+"|"+d.point+";"}]:a.content[f]);c.city_list.push(1==i?0:k.city_list[f]);c.wd2.push(1==i?"":k.wd2[f]);2==i&&f++;e++;d=decodeURIComponent(b.end).split("to:");for(var l=0,m;m=d[l];l++){m=this.qN(m);i=m.type;2==i&&m.uid&&m.point&&(i=1);this.zw.push(2==i);var n=2==i?m.tb:0==f?k.s_wd:k.e_wd[f-1]; c.e_wd.push(n);c.e_query.push(n);c.end_city.push(1==i?a.current_city:0==f?k.start_city:k.end_city[f-1]);1==i&&(this.Ma[e].o=c.s_wd,this.Ma[e].x=m.point.split(",")[0],this.Ma[e].y=m.point.split(",")[1]);m.vj&&(this.iY(e-1,{ly:c.e_wd[e-1],Wr:c.wd2[e],point:1==i?P.wL(m.point):p,uid:m.uid}),this.ju.push({ly:c.e_wd[e-1],Wr:c.wd2[e],point:1==i?P.wL(m.point):p,uid:m.uid}));c.total.push(1==i?1:k.total[f]);c.count.push(1==i?1:k.count[f]);c.current_null.push(1==i?0:k.current_null[f]);c.prio_flag.push(1==i? 1:k.prio_flag[f]);c.sug_index.push(1==i?"":k.sug_index[f]);g.push(1==i?[{name:m.tb,geo:"1|"+m.point+";"+m.point+"|"+m.point+";"}]:a.content[f]);c.city_list.push(1==i?0:k.city_list[f]);c.wd2.push(1==i?"":k.wd2[f]);2==i&&f++;e++}x.extend(a.result,c);a.content=g},iY:function(a,b){var c=x.extend({},b);if(this.iu.length>a)this.iu[a]=b;else if(this.iu.length==a)this.iu.push(b);else return;this.iu[a]=c},qN:function(a){a=decodeURIComponent(a);a=a.split("$$");return{type:a[0],uid:a[1],point:a[2],tb:a[3],b3:a[4], k3:a[5],c2:a[6],vj:a[7]}},ki:function(a){return 0==a?this.fc.content.start:a==this.ae?this.fc.content.end:this.fc.content.tpList[a-1]},HM:function(a,b,c){this.fi=-1;var c=c?c:this.ki(a),d=[];d.push(\'<div id="RA_ResItem_\'+a+\'"><table border="0" cellspacing="0" cellpadding="0" style="width:100%">\');for(var e=b[0];e<=b[1];e++){d.push(\'<tr  onmouseover="RouteAddrInst._lstMouseOver(this, 0,\'+a+", "+(e-b[0])+\', event)" onmouseout="RouteAddrInst._lstMouseOut(this, 0,\'+a+", "+(e-b[0])+\', event)" onclick="RouteAddrInst.select(\'+ a+","+e+\', event)"  filter = "item" data-uid="\'+a+"_"+b[0]+"_"+e+\'"  ><th><div title="\\u5728\\u56fe\\u4e0a\\u663e\\u793a\\u8be5\\u70b9" class="icon iconbg" id="no_\'+a+"_"+(e-b[0]+1)+\'"></div></th>\');var f=0==a?"\\u9009\\u4e3a\\u8d77\\u70b9":a==this.ae?"\\u9009\\u4e3a\\u7ec8\\u70b9":"\\u9009\\u4e3a\\u9014\\u7ecf\\u70b9";d.push(\'<td style="word-break:break-all;padding-right:24px">\');d.push(\'<a href="javascript:void(0)">\'+c[e].name+"</a>");c[e].addr&&""!=c[e].addr&&(d.push("<div>"),0==c[e].poiType?d.push(\'<span style="color:#999">\\u5730\\u5740: \'+ c[e].addr+"</span>"):1==c[e].poiType?d.push(\'<span style="color:#999">\\u9014\\u7ecf\\u516c\\u4ea4\\u8f66\\uff1a</span>\'+c[e].addr.split(";").join("; ")):3==c[e].poiType&&d.push(\'<span style="color:#999">\\u9014\\u7ecf\\u5730\\u94c1\\uff1a</span>\'+c[e].addr.split(";").join("; ")),d.push("</div>"));d.push("</td>");d.push(\'<td style="vertical-align:middle;width:106px"><div tid="selBtn_\'+a+"_"+e+\'" class="selBtn"  onclick="RouteAddrInst.itmSelect(\'+a+","+e+\');return false;" onmouseover="RouteAddrInst._selBtnOver(this)" onmouseout="RouteAddrInst._selBtnOut(this)" onmousedown="RouteAddrInst._selBtnDown(this)" data-uid = "\'+ a+"_"+e+\'"  >\'+f+"</div>");d.push(\'<a data-uid="\'+c[e].uid+\'" href="javascript:void(0);" class="list_street_view_poi" style="visibility:hidden"><img src="/static/images/transparent.gif" ></a>\');d.push("</td>");d.push("</tr>")}d.push("</table></div>");return d.join("")},FJ:function(a,b,c,d,e){0==d?a=U.to(a,b,c,Bh):d==this.ae?a=U.to(a,b,c,Ch):(c=this.ju[d-1],c.point=b,e&&(c.uid=e),a=U.KJ(a,b,d-1));return a},z_:function(a){var b=[];b.push(\'<div class="RouteAddressOuterBkg">\');b.push(\'<div class="RouteAddressTip"><span>\\u8bf7\\u9009\\u62e9\\u51c6\\u786e\\u7684\\u8d77\\u70b9\\u3001\\u9014\\u7ecf\\u70b9\\u6216\\u7ec8\\u70b9</span></div>\'); b.push(\'<div class="RouteAddressInnerBkg">\');b.push(\'<div id="pos5" style="display:none"></div>\');b.push(\'<div id="RouteAddress_DIV0" class="\'+a.startPointClass+\'"> \');b.push(\'<div class="sel_body">\');b.push(\'<div class="sel_body_top" data-uid="0" onclick="RouteAddrInst.showLst(0)" >\');b.push(\'<div class="sel_body_title">\');b.push(\'<div class="sel_body_sign"></div>\');b.push(\'<div class="sel_body_name">\\u8d77\\u70b9\\uff1a<b id="B_PointName0">\'+a.startPoint+"</b></div>");b.push("</div>");b.push(\'<div id="RD_TOP_BUT0" class="sel_body_button">\'+ a.startButton+"</div>");b.push("</div>");b.push(\'<div class="sel_body_body" id="RADIV_BODY0">\'+a.startBody+"</div>");b.push("</div>");b.push("</div>");b.push(a.tpList);b.push(\'<div id="RouteAddress_DIV\'+a.endIndex+\'" class="\'+a.endPointClass+\'">\');b.push(\'<div class="sel_body">\');b.push(\'<div class="sel_body_top" data-uid=\'+a.endIndex+\' onclick="RouteAddrInst.showLst(\'+this.ae+\')" >\');b.push(\'<div class="sel_body_title">\');b.push(\'<div class="sel_body_sign"></div>\');b.push(\'<div class="sel_body_name">\\u7ec8\\u70b9\\uff1a<b id="B_PointName\'+ a.endIndex+\'">\'+a.endPoint+"</b></div>");b.push("</div>");b.push(\'<div id="RD_TOP_BUT\'+a.endIndex+\'" class="sel_body_button">\'+a.endButton+"</div>");b.push("</div>");b.push(\'<div class="sel_body_body" id="RADIV_BODY\'+a.endIndex+\'">\'+a.endBody+"</div>");b.push("</div>");b.push("</div>");b.push(\'<div id="pos6" style="display:none"></div>\');b.push("</div>");b.push("</div>");return b.join("")},showLst:function(a){this.fj=a;var b=this.fc.content.tpList.length+1,c=this.ki(a);if(!c||!(1==c.length&&c[0].cE&& 1==c[0].cE)){var d=this.gs,e=x.$("RouteAddress_DIV"+a).className;if(!("sel_n"==e||"sel_x"==e||this.zw&&!this.zw[a])){if("sel_n1"==e||"sel_y"==e||"sel_x1"==e){for(var f=0;f<=b;f++){var g=x.$("RouteAddress_DIV"+f);ja.Dc("B_PointName"+f).innerHTML=this.UW(f);"sel_x"==g.className?g.className="sel_x1":"sel_n"==g.className&&(g.className="sel_n1")}this.hC();this.wg&&(this.map.Tb(this.wg),this.wg=p);"sel_y"==e&&(this.Ma[a]={o:"",Cd:0,mn:0,x:0,y:0,oa:-1},this.Cp[a]=0);0>=this.fc.result.count[a]?x.$("RouteAddress_DIV"+ a).className="sel_x":(x.$("RouteAddress_DIV"+a).className="sel_n",1!=this.fc.result.city_list[a]&&(b=10*(d[a]-1)+9,c.length<b+1&&(b=c.length-1),this.vo(a,[10*(d[a]-1),b])))}this.fi=-1}}},pB:function(a,b){var c;x.$("RA_ResItem_"+a)&&(c=x.$("RA_ResItem_"+a).childNodes[0]);if(c&&(c=c.rows[b]))c.style.backgroundColor="#F4F4F4",c.getElementsByTagName("td")[1].childNodes[0].style.visibility="visible",c.getElementsByTagName("th")[0].childNodes[0].style.backgroundPosition=24*-b+"px -32px";this.Tf.length> b&&(this.Tf[b].Ub(new qc(E.YF,E.ZO,{offset:E.YO,imageOffset:new N(-E.WO*b,-E.XO),infoWindowOffset:E.XF})),this.$I(this.Tf[b],o,o))},_lstMouseOver:function(a,b,c,d){a=this.k.ka.map;this.fi!=d&&(a.Wc(),this.pB(c,d))},_lstMouseOut:function(a,b,c,d){this.fi!=d&&this.Yv(c,d)},Yv:function(a,b){var c=p;x.$("RA_ResItem_"+a)&&(c=x.$("RA_ResItem_"+a).childNodes[0]);c&&(c=c.rows[b],c.style.backgroundColor="#ffffff",c.getElementsByTagName("td")[1].childNodes[0].style.visibility="",c.getElementsByTagName("th")[0].childNodes[0].style.backgroundPosition= 24*-b+"px -64px");this.Tf.length>b&&(this.Tf[b].Ub(new qc(E.YF,E.aG,{offset:E.p0,imageOffset:new N(-E.$F*b,-E.ZF),infoWindowOffset:E.o0})),this.$I(this.Tf[b],q))},$I:function(a,b,c){a&&a.yi&&(b&&!a.YH&&a.Yc&&a.Yc.style?(a.YH=o,c?a.yi(o,1000100):a.yi(o)):!b&&(a.Yc&&a.Yc.style)&&(delete a.YH,a.yi(q)))},select:function(a,b,c){if(2<arguments.length&&(c=c||window.T1,"selBtn"==(c.srcElement||c.target).className))return;var d=this.ki(a);this.map.Wc();d&&(this.Bp[0]!=this.Bp[1]&&this.wg&&this.map&&this.map.Ah(this.Sm), this.lU(d,a,b),-1!=this.fi&&this.Yv(a,this.fi),this.fi=b%10,this.pB(a,this.fi))},hC:function(){var a=this;(function c(){0!==a.Tf.length&&(a.map.Tb(a.Tf.shift()),c())})();(function d(){0!==a.Sm.length&&(a.Sm.shift(),d())})()},itmSelect:function(a,b){var c=this.map,d=this.ki(a);this.Ma[a].n=d[b].name;this.Ma[a].c=this.Bp[a];this.Ma[a].u=d[b].uid;var e=R.zb(P.vb(d[b].geo_base64||d[b].geo,o).point);this.Ma[a].x=e.lng;this.Ma[a].y=e.lat;this.Ma[a].t=d[b].poiType;x.$("B_PointName"+a)&&(x.$("B_PointName"+ a).innerHTML=d[b].name);this.wg=this.FJ(c,e,d[b].name,a);0!=a&&a!=this.ae&&(this.ju[a-1].ly=d[b].name);this.hC();if(this.kY())this.wg&&(c.Tb(this.wg),this.wg=p),this.submit();else{x.$("RouteAddress_DIV"+a)&&(x.$("RouteAddress_DIV"+a).className="sel_y");for(c=0;1<=this.ae;){c=(a+1)%(this.ae+1);x.$("RouteAddress_DIV"+c)&&x.$("RouteAddress_DIV"+c);break}if(0==this.Cp[c]){x.$("RouteAddress_DIV"+c)&&(x.$("RouteAddress_DIV"+c).className="sel_n");var d=this.gs[c],e=10*(d-1)+9,f=this.ki(c);f.length<e+1&& (e=f.length-1);this.vo(c,[10*(d-1),e]);this.select(c,0)}else 2==this.Cp[c]?x.$("RouteAddress_DIV"+c)&&(x.$("RouteAddress_DIV"+c).className="sel_n"):x.$("RouteAddress_DIV"+c)&&(x.$("RouteAddress_DIV"+c).className="sel_x");this.fj=c}},submit:function(){var a=this.map,b=this.Ma[0].c,c=this.Ma[this.ae].c;if(b==c)var d=b;var e={},f=new O("onpoiselected");if(13==this.fc.result.type||23==this.fc.result.type||24==this.fc.result.type)23==this.fc.result.type&&b!=c?(e.c=d||this.fc.current_city.code,e.sc=b,e.ec= c,e.sn="1$$$$"+this.Ma[0].x+","+this.Ma[0].y+"$$"+this.Ma[0].n+"$$$$$$",e.en="1$$$$"+this.Ma[1].x+","+this.Ma[1].y+"$$"+this.Ma[1].o+"$$$$$$"):(e.c=d||this.fc.current_city.code,e.sc=b,e.ec=c,e.sn="1$$"+this.Ma[0].u+"$$"+this.Ma[0].x+","+this.Ma[0].y+"$$"+this.Ma[0].n+"$$$$$$",e.en="1$$"+this.Ma[1].u+"$$"+this.Ma[1].x+","+this.Ma[1].y+"$$"+this.Ma[1].n+"$$$$$$");else{for(var g=d="",i=this.ae,k=0,l=this.ju.length;k<l;k++)d+=this.xx(this.ju[k]),g+=this.Ma[k+1].c+"+to:";e.sc=b;e.ec=g+c;e.sn="1$$$$"+this.Ma[0].x+ ","+this.Ma[0].y+"$$"+this.Ma[0].n+"$$$$$$";e.en=d+"1$$$$"+this.Ma[i].x+","+this.Ma[i].y+"$$"+this.Ma[i].n+"$$$$$$"}e.sq=this.Hy;e.eq=this.$w;f.paramInfo=e;f.sType=this.ty;a.dispatchEvent(f)},xx:function(a,b){var c=2,d="",e="",f="",g="0",i="";if(a.point||a.xN)c=1,e=a.point?a.point.lng+","+a.point.lat:a.xN.lng+","+a.xN.lat,a.uid&&(c=2,d=a.uid);a.ly&&(f=a.ly);a.Wr&&(g="1",i=a.Wr);isNaN(b)||(c=b);return c+"$$"+d+"$$"+e+"$$"+f+"$$"+g+"$$"+i+"$$$$1$$+to:"},kY:function(){for(var a=0;a<=this.ae;a++)if(""== this.Ma[a].n&&!this.Ma[a].x&&!this.Ma[a].y||this.Ma[a].n==j)return q;return o},_selBtnOver:function(a){a.style.backgroundPosition="-100px -81px"},_selBtnOut:function(a){a.style.backgroundPosition="-21px -81px"},_selBtnDown:function(a){a.style.backgroundPosition="-220px -81px";a.style.fontWeight="bold"},ra:function(){var a=this,b=this.ae;this.YN(this.fc);a.UN();for(var c=0;c<=b;c++)x.$("RADiv_PAGE"+c)&&(pg0=new ud("RADiv_PAGE"+c,function(b){var c=a.fj,d=[10*(b-1),10*b-1];a.Jt[c]<d[1]+1&&(d[1]=a.Jt[c]- 1);x.D.remove=function(a){var a=x.$(a),b=a.parentNode;b&&b.removeChild(a)};x.$("RA_ResItem_"+c)&&(x.D.remove(x.$("RA_ResItem_"+c)),ja.D.Ix(x.$("RADiv_ResItem"+c),"AFTERBEGIN",a.HM(c,d)));a.vo(c,d,o);x.$("RADiv_ResItem"+c).scrollTop=0;a.gs[c]=b},{Vf:5,Jd:a.wO[c],page:a.gs[d]}));var d=[0,9],c=this.fj,e=ja.Dc("RouteAddress_DIV"+c),f=this.ki(c);"sel_n"==e.className?this.fc.content&&(this.fc.result.city_list&&1!=this.fc.result.city_list[c]&&f&&0<f.length)&&(f.length<d[1]+1&&(d[1]=f.length-1),a.vo(c,d), a.select(c,0)):this.wg&&"sel_x"==e.className&&this.map.Ah(this.AE);for(var d=0;d<=b;d++)"sel_y"==x.$("RouteAddress_DIV"+d).className&&(c=this.ki(d),0<c.length&&(c[0].cE&&1==c[0].cE)&&(ja.U3(ja.Dc("RD_TOP_BUT"+d),"sel_body_button"),x.$("RD_TOP_BUT"+d).innerHTML=""))},UO:function(){var a=this.ae;this.YN(this.fc);this.UN();for(var b=0;b<=a;b++){var c=this.fj,d=[0,9];this.Jt[c]<d[1]+1&&(d[1]=this.Jt[c]-1);this.vo(c,d,o)}a=[0,9];b=this.fj;ja.Dc("RouteAddress_DIV"+b);c=this.ki(b);1==b?this.fc.content&& (this.fc.result.city_list&&1!=this.fc.result.city_list[b]&&c&&0<c.length)&&(c.length<a[1]+1&&(a[1]=c.length-1),this.vo(b,a)):this.wg&&0==b&&this.map&&this.map.Ah(this.AE);this.select(b,0)},YN:function(a){var b=this.map;if(a.VV&&!(a.result.Z3&1)&&(29==a.result.type||13==a.result.type)){var a=a.VV,c=["country","province","city","area"],c=a.type!=p?modelConfig.ug[c[a.type]]:j,a=a.Gd!=p?a=P.vb(a.Gd,o).point:j;b.vW?(c&&b.Dg(c),a&&b.Wf(a)):(b.vW=o,b.Dd(a||b.Ka(),c||b.fa()))}},UN:function(){this.Bp=this.hu; for(var a=0;a<=this.ae;a++)0<this.fc.result.count[a]?0==this.fc.result.city_list[a]?(this.Cp[a]=1==this.fc.result.prio_flag[a]?1:0,this.Jt[a]=this.fc.result.count[a]):this.Cp[a]=2:this.Cp[a]=3},vo:function(a,b){var c=this,d=this.ki(a),e=c.map;c.hC();if(d){for(var f=b[0];f<=b[1];f++){var g=P.vb(d[f].geo_base64||d[f].geo,o);c.Tf.push(U.PU(g.ia[0],f-b[0],d[f].name,e));c.Sm.push(g.ia[0])}d=c.Sm;c.wg&&c.Bp[0]==c.Bp[1]&&d.push(c.wg.point);if(this.map.pa()==Pa){var g=Vc[Pa].C1[e.Wb][1],i=getPointsBounds(d), k=e.Zs(i).zoom;g.gt(i)?(15>=k&&(k=15),e.Dd(d[0],k)):e&&e.Ah(d)}else e&&e.Ah(d);11==c.Sm.length&&c.Sm.pop();for(var l=this.Tf,f=b[0];f<=b[1];f++)(function(){var d=f;l[f-b[0]]&&(l[f-b[0]].addEventListener("click",function(){c.select(a,d)}),l[f-b[0]].addEventListener("mouseover",function(){var b=d%10;c.fi!=b&&c.pB(a,b)}),l[f-b[0]].addEventListener("mouseout",function(){var b=d%10;c.fi!=b&&c.Yv(a,b)}))})()}},lU:function(a,b,c){var d=this,e=a[c],a="<span class=\'iw_poi_title\' title=\'"+e.name+"\'>"+e.name+ "</span>",f=[],g="";e.addr&&""!=e.addr&&(0==e.poiType?g="\\u5730\\u5740: "+e.addr:1==e.poiType?g="\\u9014\\u7ecf\\u516c\\u4ea4\\u8f66\\uff1a"+e.addr.split(";").join("; "):3==e.poiType&&(g="\\u9014\\u7ecf\\u5730\\u94c1\\uff1a"+e.addr.split(";").join("; ")));f.push("<div style=\'padding:11px 11px 6px 11px;line-height:20px;word-break:break-all\'>"+g+"</div>");f.push("<div style=\'line-height:180%;margin-bottom:10px;\'>");e="\\u9009\\u4e3a\\u9014\\u7ecf\\u70b9";0==b&&(e="\\u9009\\u4e3a\\u8d77\\u70b9");b==this.ae&&(e="\\u9009\\u4e3a\\u7ec8\\u70b9"); f.push("<div style=\'text-align:center;\'><div id=\'selInfoWndBtn\' class=\'selInfoWndBtn\'  data-uid = \'"+b+"_"+c+"\'  />"+e+"</div>");f.push("</div>");this.Cb?(this.Cb.Cc(a),this.Cb.ad(f.join(""))):(this.Cb=new tc(f.join(""),{title:a,height:0,width:280,margin:[0,0,0,0]}),this.Cb.addEventListener("open",function(){var a=x.$("selInfoWndBtn");x.M(a,"click",function(){var b=a.getAttribute("data-uid").split("_");d.itmSelect(b[0],b[1])});x.M(a,"mouseover",function(){d._selBtnOver(a)});x.M(a,"mousedown",function(){d._selBtnDown(a)}); x.M(a,"mouseout",function(){d._selBtnOut(a)})}),this.Cb.addEventListener("close",function(){d.Yv(b,i)}));var i=c%10;this.Tf&&this.Tf[i]&&this.Tf[i].Nb(this.Cb)},UW:function(a){a==j&&(a=this.fj);return 0==a?this.Hy:a==this.ae?this.$w:this.yO[a-1]},Gb:function(a,b){for(var c=0,d=a.length;c<d;c++)b(c,a[c])}});wd.rH=function(a,b,c){var d="";0===c&&(d+=";border-top:1px solid #e4e6e7");var e="nav-ed";0===c&&(e="nav-st");c=["<div style=\'"+d+"\'><div style=\'cursor:pointer;padding:8px 0 8px 10px;line-height:15px\'"];c.push("onclick=\'"+b+"\'>");c.push("<span class=\'navtrans-navlist-icon "+e+"\'></span>");c.push("<div style=\'overflow:hidden;line-height:20px;\'>"+a);c.push("</div></div></div>");return c.join("")}; wd.qH=function(a,b,c){return\'<h1 style="margin:0;border-top:1px solid #e4e6e7;\'+(c?"border-bottom:1px solid #e4e6e7;padding:10px 0 10px 7px;":"padding:10px 0 9px 7px;")+"font:bold 16px "+E.fontFamily+\'"> \'+b+"\\u524d\\u5f80 "+a+" \\u7684\\u8def\\u7ebf</h1>"}; x.extend(wd.prototype,{search:function(a,b){return!a||!b?(this.Oe(),this.sb(5),this.Sa(V.Sc),q):o},Oe:function(){delete this.ja;delete this.ga;delete this.Fa;delete this.vq;delete this.Fl;var a=this.k.ka;this.sb();a.Ha&&(a.Ha.innerHTML="");a.map&&a.map.Wc();this.Kj();this.kb=-1},$e:function(a,b){var c,b=b||{};"string"===typeof a?c=[2,"","",a,0,""]:a instanceof H?(c=R.zb(a),c=[1,"",c.lng+","+c.lat,b.J4||"",0,""]):(c=R.zb(a.point),c=[1,""+a.uid,c.lng+","+c.lat,a.title,0,""]);return c.join("$$")+"$$"}, Mh:function(a,b){var c;"string"===typeof a?c=a:(c=a instanceof H?a:a.point,c=c.lat+","+c.lng);"string"!==typeof a&&(b&&""!==b&&"string"===typeof b)&&(c="name:"+b+"|latlng:"+c);return c},xx:function(a){return this.$e(a)+"$$1$$"},V0:function(){var a;"string"===typeof dest?a=dest:(a=dest instanceof H?dest:dest.point,a=a.lat+","+a.lng);return a}});var Bh=0,Ch=1; function qh(a){"string"===typeof a&&(a=parseFloat(a));a=!a||0>a?"0\\u7c73":10>=a?"10\\u7c73":1E3>a?10*Math.round(a/10)+"\\u7c73":(a/1E3).toFixed(1)+"\\u516c\\u91cc";"1000\\u7c73"===a&&(a="1.0\\u516c\\u91cc");return a} function rh(a,b){if(!a||isNaN(a))return"";var c="",d=Math.ceil(a/60);if("bustime"===b)var e=d%10,f=parseInt(d/10,10),d=0!==e?5<e?10*++f:f?10*f:5:d;e=parseInt(d/1440,10);d%=1440;f=parseInt(d/60,10);d%=60;1<=e&&(c+=e+"\\u5929");1<=f&&(c+=f+"\\u5c0f\\u65f6");if(1<=d&&(!b||!("nav"===b&&1<=e)))c+=d+"\\u5206\\u949f";return c}S(sf,{clearResults:sf.Oe});x.extend(xd.prototype,{Qd:function(){for(var a=0,b=this.Pa.length;a<b;a++){var c=this.Pa[a];this[c.method].apply(this,c.arguments)}delete this.Pa;var d=this;this.k.ka.map&&this.k.ka.map.addEventListener("onpoiselected",function(a){d.WE(a)})},AA:function(a,b){function c(a){var a=a.split("$$"),b=a[0],c=p;/[0-2]/.test(b)&&7===a.length&&(c=a[+b+1]);return c}var d=this;this.Jg(this.yd,function(e){e={qt:d.ud,c:e,sn:a,X1:b,sy:d.k.$c||0,ext:1};4===e.sy&&(e.f="[0,2,4,7,5,8,9,10,11]");var f=c(a),g=c(b);dd.bb(function(a, b){d.Kf(a,b)},e,{start:f,end:g})})},search:function(a,b){if(wd.prototype.search.call(this,a,b)===o){var c=this;this.Jg(this.yd,function(d){d||(this.sb(5),this.Sa(V.Sc));var e;"object"===typeof a&&"string"===typeof b||"string"===typeof a&&"object"===typeof b?"string"===typeof a?e={qt:"bse",c:d,isSingle:o,wd:a,en:c.$e(b),sy:c.k.$c||0,ex:1}:"string"===typeof b&&(e={qt:"bse",c:d,isSingle:o,wd:b,sn:c.$e(a),sy:c.k.$c||0,ex:1}):e={qt:c.ud,c:d,sn:c.$e(a),en:c.$e(b),sy:c.k.$c||0,ex:1};4===e.sy&&(e.f="[0,2,4,7,5,8,9,10,11]"); dd.bb(function(a,b){c.Kf(a,b)},e,{start:a,end:b,pH:"search"})})}},WE:function(a){if(a.sType===this.ud){a=a.paramInfo;a.qt=this.ud;var b=this;a.sy=b.k.$c||0;var c={start:a.sq,end:a.eq,pH:"preciseSearch"};this.k.ed&&(c.EN=z.qp+"mobile/webapp/interface/wiseBus/",c.Gs=o);dd.bb(function(a){b.Kf(a,c)},a,c)}},Kf:function(a,b){var c=this.k.ka.map;this.Oe();this.Fa=a;var d=a.result;this.ga=b;if(0!==d.error||d.type!==this.Cu||!a.content)23===d.type&&this.k.ka.map?(c=new Cd(a,{ka:this.k.ka,ty:this.ud}),d=M("div", {style:"font:12px "+E.fontFamily+";background:#fff"}),d.innerHTML=c.va(),this.k.ka.Ha?(this.k.ka.Ha.appendChild(d),c.ra()):c.UO(),c.VB()):(this.ja=new nh({city:a.current_city.name,Ft:[],$c:d.sy,gO:j,TK:j}),this.sb(3),this.Sa(V.Sc,this.ja));else if(this.k.ed&&"search"===b.pH){var e=new O("onpoiselected"),f={};f.qt=this.ud;f.sy=this.k.$c||0;f.sq=b.start;f.eq=b.end;f.sn=d.sn?d.sn:this.$e(d.start.wd);f.en=d.en?d.en:this.$e(d.end.wd);f.c=d.c;e.paramInfo=f;e.sType=this.ud;c.dispatchEvent(e)}else this.Cl(), this.Dl(),this._selectPlan(0)},oS:function(a,b){var c=jd;0===b&&(c=0<a?2:1);return c},Cl:function(){var a=this.Fa.result,b=this.Fa.content,c=this.Fa.current_city,d={},e={};if("object"===typeof this.ga.start&&!(this.ga.start instanceof H))x.extend(d,this.ga.start);else{d.title=a.start.wd||"\\u8d77\\u70b9";d.uid=a.start.uid;d.url=V.Nh(d.uid,c.code);if(this.k.ed){var f=a.start.pt.split(",");d.point=R.Ab(new H(parseFloat(f[0]),parseFloat(f[1])))}else d.point=P.vb(a.start.pt,o).point;d.city=c.name}"object"=== typeof this.ga.end&&!(this.ga.end instanceof H)?x.extend(e,this.ga.end):(e.title=a.end.wd||"\\u7ec8\\u70b9",e.uid=a.end.uid,e.url=V.Nh(e.uid,c.code),this.k.ed?(f=a.end.pt.split(","),e.point=R.Ab(new H(parseFloat(f[0]),parseFloat(f[1])))):e.point=P.vb(a.end.pt,o).point,e.city=c.name);var f=[],g=0;this.vq=[];for(var i=0;i<b.length&&!(g>this.k.Ek-1);i++)for(var k=0,l=b[i]&&b[i].stops&&b[i].stops.length;k<l&&!(g>this.k.Ek-1);k++){this.vq[g]=[];for(var m=b[i].stops[k],n=b[i].lines[k],t=0,v=0,w=n.length;v< w;v++)"object"===typeof n[v]&&t++;for(var t=n[t+1],v=[],w=[],y=0,C="<table class=\'trans-plan-content\'>",A=0;A<m.length-1&&n[A].geo;A++){var D=m[A].getOn,D={title:D.name,uid:D.uid,url:V.Nh(D.uid,c.code),city:c.name,point:P.vb(D.geo,o).point},B=m[A+1].getOff,B={title:B.name,uid:B.uid,url:V.Nh(B.uid,c.code),city:c.name,point:P.vb(B.geo,o).point},F=[];if(0===A)0<m[A].walk.distance&&m[A].walk.geo&&(F=P.vb(m[A].walk.geo,o).ia.concat(D.point));else if(0<m[A].walk.distance&&m[A].walk.geo)var F=P.vb(m[A].getOff.geo, o).point,J=P.vb(m[A].getOn.geo,o).point,F=[F].concat(P.vb(m[A].walk.geo,o).ia).concat(J);w.push(new vh({md:m[A].walk.distance,ia:F.slice(0),qy:ed,index:A,PE:i}));y+=m[A].walk.distance;A===m.length-2&&(0<m[A+1].walk.distance&&m[A+1].walk.geo&&(F=[B.point].concat(P.vb(m[A+1].walk.geo,o).ia)),w.push(new vh({md:m[A+1].walk.distance,ia:F.slice(0),qy:ed,index:A+1,PE:i})),y+=m[A+1].walk.distance);F=P.vb(n[A].geo,o);J=[];if(this.k.ed&&n[A].link_color&&0<n[A].link_color.length)for(var L=0,K=0,W=n[A].link_color, ea=W.length;L<ea;L++){var fa=W[L],Ea=fa.status,Ua=F.ia.slice(K,K+fa.geo_cnt+1);J.push({ia:Ua,status:Ea});K+=fa.geo_cnt}v.push(new xh({title:n[A].name,uid:n[A].uid,md:n[A].distance,ia:F.ia,status:J,o_:[D,B],type:this.aS(n[A].type),RY:n[A].station_num}));J=F.hb;F=J.se();J=J.of();F=[F,J];this.vq[g].push(F[0],F[1]);y+=n[A].distance;m[A].walk.distance&&(C+="<tr><td><span class=\'navtrans-bus-icon walk\'></span><div class=\'navtrans-bus-desc\'>\\u6b65\\u884c\\u7ea6"+qh(m[A].walk.distance)+"\\uff0c\\u5230\\u8fbe<span class=\'navtrans-busstation\'>"+ D.title+"</span></div></td></tr>");C+="<tr><td><span class=\'navtrans-bus-icon bus\'></span><div class=\'navtrans-bus-desc\'>\\u4e58\\u5750<span class=\'navtrans-busstation\'>"+this.iU(n[A].name)+"</span>\\uff0c\\u7ecf\\u8fc7"+n[A].station_num+"\\u7ad9\\uff0c\\u5230\\u8fbe<span class=\'navtrans-busstation\'>"+B.title+"</span></div></td></tr>";A<m.length-2?C+="":m[A+1].walk.distance&&(C+="<tr><td><span class=\'navtrans-bus-icon walk\'></span><div class=\'navtrans-bus-desc\'>\\u6b65\\u884c\\u7ea6"+qh(m[A+1].walk.distance)+ "\\uff0c\\u5230\\u8fbe<span class=\'navtrans-busstation\'>"+m[A+1].getOn.name+"</span></div></td></tr>")}C+="</table>";if(0===y)break;f.push(new th({fF:w,md:y,duration:t,zY:v,description:C}));g++}b=z.Ac+"direction?"+Db({region:c.name,origin:this.Mh(this.ga.start,this.ga.start.title?this.ga.start.title:this.ga.start),destination:this.Mh(this.ga.end,this.ga.end.title?this.ga.end.title:this.ga.end)})+"&output=html&mode=transit&src=baidu_map_jsapi";this.ja=new nh({city:c.name,Ft:f,start:d,end:e,url:b,$c:a.sy}); this.sb(0);this.Sa(V.Sc,this.ja)},KT:function(a){var b=this.k.ka.map,c=[],d=this;if(b){var e=this.ja.qf(a);if(e){var f=this.ja.rj(),g=this.ja.gh(),i=U.to(b,f.point,f.title,Bh);f.marker=i;i.addEventListener("click",function(){d._select(0)});this.wa.push(i);i=U.to(b,g.point,g.title,Ch);g.marker=i;this.wa.push(i);i.addEventListener("click",function(){d._selectLast()});this.vq[a].push(f.point,g.point);for(var k=0,i=e.px();k<i;k++){var l=e.LD(k),m=U.uo(b,l.qe()),n=[];if(this.k.ed&&0<l.Bd.length){for(var t= 0,v=l.Bd.length;t<v;t++){var w=l.Bd[t];w.status&&(w=U.HJ(b,w.ia,w.status),n.push(w),this.wa.push(w))}l.a1=n}l.Ti=m;this.wa.push(m);m=l.HD();c.push(m);var y=U.JJ(b,m.point,l.type,m.title);m.marker=y;this.wa.push(y);m=l.GD();c.push(m);var C=U.JJ(b,m.point,l.type,m.title);m.marker=C;(function(){var a=k;y.addEventListener("click",function(){d._select(2*(a+1)-1)});C.addEventListener("click",function(){d._select(2*(a+1))})})();this.wa.push(C);l=e.ih(k);0<l.Re(q)&&(m=U.Ql(b,l.qe(),l.bp()),l.Ti=m,this.wa.push(m))}l= e.ih(k);m=U.Ql(b,l.qe(),l.bp());l.Ti=m;this.wa.push(m);d=this;this.k.ka.Xg&&b.Ah(this.vq[a],{margins:[30,30,30,30]});this.Sa(V.wu,e.Ri,e.dk);this.Sa(V.Xp,[f,g],c)}}},Dl:function(){if(this.k.ka.Ha&&this.k.ka.Ha.appendChild&&this.ja&&0<this.ja.qx()){for(var a=M("div",{style:"font:12px "+E.fontFamily+";background:#fff"}),b=wd.qH(this.ja.gh().title,"\\u4e58\\u516c\\u5171\\u4ea4\\u901a\\u5de5\\u5177"),c=this.sH(this.ja.rj().title,\'Instance("\'+this.ba+\'")["_select"](0)\',0),d=this.sH(this.ja.gh().title,\'Instance("\'+ this.ba+\'")["_selectLast"]()\',1),e=["<table style=\'font:12px "+E.fontFamily+";border-collapse:collapse;width:100%;\' cellpadding=\'0\' cellspacing=\'0\' border=\'0\'>"],f=0,g=this.ja.qx();f<g;f++){var i=this.ja.qf(f),k=i.Re().replace(/(\\d+(?:.\\d+)?)/,"$1 "),l=i.Qs().replace(/(\\d+)/,"$1 "),m=i.NX();bg="";var n="<p style=\'margin:0px 0px 5px 0px;font-size:14px;color: #36c;\'>"+i.hX()+"</p>",k="<p style=\'margin:5px 0px;font-size:12px;\'>"+k+"  &nbsp;|&nbsp;  "+l+"  &nbsp;|&nbsp; \\u6b65\\u884c"+m+"</p>";e.push("<tr class=\'tranroute-plan-list\' style=\\"cursor:pointer"+ bg+\'" onclick=\\\'Instance("\'+this.ba+\'")._selectPlan(\'+f+")\'>");e.push("<td style=\'vertical-align:top;line-height:18px\' ><div style=\'margin:3px 0px;border:1px solid #e4e6e7;\'><div class=\'trans-title\' style=\'padding: 5px 10px;\'>"+n+k+"</div><div class=\'trans_plan_desc\' style=\'padding:0px 8px;margin:0px;display:none;position:relative;\'>"+c+i.fh()+d+"</div></div></td>");e.push("</tr>")}e.push("</table>");c="<div style=\'border-bottom:1px solid #ccc;margin-bottom:10px;color:#7777cc;background:#e5ecf9;overflow:hidden;padding:2px;text-align:right\'>"; this.ja.moreResultsUrl&&(c+="<a style=\'color:#7777cc\' href=\'"+this.ja.moreResultsUrl+"\' target=\'_blank\'>\\u5230\\u767e\\u5ea6\\u5730\\u56fe\\u67e5\\u770b&#187;</a>");a.innerHTML=b+e.join("")+(c+"&nbsp;</div>");this.k.ka.Ha.appendChild(a);this.Sa(V.xu,a)}},_select:function(a,b){var c=this.k.ka.map;if(c){var b=b||window.event,d=this.ja.qf(this.kb);if(d){var e=this,f=2*d.px();if(0===a||a===f+1){var g=0===a?this.ja.rj():this.ja.gh(),i=U.Kw({content:"<b>"+g.title+"</b>",total:f,Nw:a,Zx:function(a){e._select(a)}}); i.addEventListener("open",function(){e.Sa(V.yn,g,U.Rs(c))});var k=0===a?0:1,e=this;c.K.km?be.jp(i,c.getCurrentCity().code,{panoInstance:c.P,lngLat:g.point,titleTip:g.title,type:"busline",beforeDomId:"trans_nav"},function(){e.wa[k].Nb(i)}):e.wa[k].Nb(i)}else{var d=d.LD(Math.floor((a+1)/2)-1),l,m=d.cp();1===a%2?(l=d.HD(),d=m+"<b>"+l.title+"\\u7ad9\\u4e0a\\u8f66</b>"):(l=d.GD(),d=m+"<b>"+l.title+"\\u7ad9\\u4e0b\\u8f66</b>");i=U.Kw({content:d,total:f,Nw:a,Zx:function(a){e._select(a)}});i.addEventListener("open", function(){e.Sa(V.yn,l,U.Rs(c))});e=this;c.K.km?be.jp(i,c.getCurrentCity().code,{panoInstance:c.P,lngLat:l.point,titleTip:l.title,type:"busline",beforeDomId:"trans_nav"},function(){l.marker.Nb(i)}):l.marker.Nb(i)}na(b)}}},_selectLast:function(a){a=a||window.event;if(this.ja&&-1<this.kb){var b=this.ja.qf(this.kb);if(!b)return;this._select(2*b.px()+1)}na(a)},_selectPlan:function(a){if(this.ja||this.d1.qf(a)){this.ja.qf(a);var b=this.k.ka.map;b&&(b.Wc(),this.Kj(),this.KT(a));if(this.k.ka.Ha){var c=this.k.ka.Ha.getElementsByTagName("table")[0]; if(!c)return;for(var b=x.getElementsByClassName(c,"tranroute-plan-list"),c=x.getElementsByClassName(c,"trans_plan_desc"),d=0;d<c.length;d++)d!==a&&(c[d].style.display="none");for(c=0;c<b.length;c++)x.Sb(b[c],"expand");c=x.getElementsByClassName(b[a],"trans_plan_desc")[0];"none"===c.style.display?(c.style.display="block",x.Ua(b[a],"expand")):c.style.display="none"}this.kb=a}},Kj:function(){for(var a=0;a<this.wa.length;a++)this.wa[a]&&this.wa[a].YA&&(this.wa[a].YA.remove(),this.wa[a].YA=p),this.wa[a]&& this.wa[a].remove(),this.wa[a]=p;this.wa.length=0},aS:function(a){return xd.lP[a]},sH:function(a,b,c){var d="";0===c&&(d+="padding-top:5px;");var e="nav-ed";0===c&&(e="nav-st");c=["<div style=\'"+d+"\'><div style=\'cursor:pointer;padding:2px 0 2px 0px;line-height:15px\'"];c.push("onclick=\'"+b+"\'>");c.push("<span class=\'navtrans-navlist-icon "+e+"\'></span>");c.push("<div style=\'overflow:hidden;line-height:20px;\'>"+a);c.push("</div></div></div>");return c.join("")}});yd=xd.prototype;S(yd,{_internalSearch:yd.AA});zd.oP=20;zd.iP=50;zd.hP=10; x.extend(zd.prototype,{iE:function(){this.aa={xp:[],Kb:[],Ci:[],$g:[],ie:p,qd:p,OC:q,Aw:p,Bo:p,hM:q,Mw:p,PC:1,NC:1,bK:"\\u8d77\\u70b9",aK:"\\u7ec8\\u70b9",Wx:q,os:[]}},Qd:function(){this.iE();for(var a=0,b=this.Pa.length;a<b;a++){var c=this.Pa[a];this[c.method].apply(this,c.arguments)}delete this.Pa;var d=this;this.k.ka.map&&this.k.ka.map.addEventListener("onpoiselected",function(a){d.WE(a)})},search:function(a,b,c){this.aa.hM=q;var c=c||{},d=c.waypoints;"[object Array]"==Object.prototype.toString.call(d)||(d= []);this.SO=d;if(wd.prototype.search.call(this,a,b)===o){var e=this;this.Jg(this.yd,function(f){var f=f||1,g;if(("object"===typeof a&&"string"===typeof b||"string"===typeof a&&"object"===typeof b)&&0===d.length&&!e.k.ed)"string"===typeof a?g={qt:"nse",c:f,isSingle:o,wd:a,en:e.$e(b),sy:e.k.$c||0}:"string"===typeof b&&(g={qt:"nse",c:f,isSingle:o,wd:b,sn:e.$e(a),sy:e.k.$c||0}),this.ud=e.k.ed?e.ud:"nse",f={start:a,end:b,Gs:e.k.ed};else{var i=e.$e(a);en="";if(0<d.length){for(var k=0;k<d.length;k++)en+= e.xx(d[k])+"+to:";en+=e.$e(b)}else en=e.$e(b);g={qt:e.ud,c:f,sn:i,en:en,sy:e.k.$c||0};f={start:i,end:en,Gs:e.k.ed}}0<d.length&&(f.GO=o);c.startCity&&(g.sc=c.startCity);if(c.endCity){i="";if(0<d.length){for(k=0;k<d.length;k++)i+=c.endCity+"+to:";i+=c.endCity}else i=c.endCity;g.ec=i}e.k.ed&&(g.route_traffic=1,g.version=4,g.mrs=0<e.SO.length?0:1);dd.bb(function(a,b){e.Kf(a,b)},g,f)})}},Sz:function(a,b){var c=this;c.aa.hM=o;c.Jg(c.yd,function(d){for(var d=d||1,e=R.zb(c.aa.Kb[0]),e="1$$$$"+e.lng+","+e.lat+ "$$$$",f=c.aa.PC||d,g="",i="",k=1,l=c.aa.Kb.length;k<l;k++){var m=c.aa.Kb[k];k===l-1?(g+=c.$e(m),i+=c.aa.NC||d):(g=m.vj?g+(c.xx(m)+"+to:"):g+(c.$e(m)+"+to:"),i+="0 +to:")}d={qt:c.ud,c:d,drag:1,sc:f,ec:i,sn:e,en:g,sy:c.k.$c||0};c.k.ed&&(d.route_traffic=1,d.version=4,d.mrs=0);e={start:a,end:b,Gs:c.k.ed};x.extend(e,{GO:o});dd.bb(function(a,b){c.Kf(a,b)},d,e)})},WE:function(a){var b=this;if(a.sType===this.ud){a=a.paramInfo;a.qt=this.ud;var b=this,c={start:a.sq,end:a.eq,Gs:b.k.ed};a.sy=b.k.$c||0;b.k.ed&& (a.route_traffic=1,a.version=4,a.mrs=0<b.SO.length?0:1);dd.bb(function(a){b.Kf(a,c)},a,c)}},Kf:function(a,b){this.Oe();this.Fa=a;var c=a.result;this.ga=b;if(0!==c.error||c.type!==this.Cu)if(23===c.type||19===c.type){var c=new Cd(a,{ka:this.k.ka,ty:this.ud}),d=M("div",{style:"font:12px "+E.fontFamily+";background:#fff"});d.innerHTML=c.va(b);this.k.ka.Ha?(this.k.ka.Ha.appendChild(d),c.ra()):c.UO()}else this.ja=this.Wu({city:a.current_city.name,Ft:[],$c:c.sy,gO:j,TK:j}),this.sb(3),this.Sa(V.Sc,this.ja); else this.k.ed?this.ET():this.Cl(),this.JT(),this.Dl()},oS:function(a,b){var c=jd;0===b&&(c=0<a?2:1);return c},BB:function(){this.aa.qd&&this.aa.qd.IC();for(var a=0,b=this.aa.$g.length;a<b;a++){var c=this.aa.$g[a];c instanceof T&&c.IC()}},ET:function(){var a=this.Fa.result,b=this.Fa.content,c=this.Fa.current_city,d=a.waypoints,e=b.taxis&&b.taxis[0]&&b.taxis[0].total_price||0,f=[],g=[],i=0,k=0,l=b.routes[0].legs,m=b.steps,n=b.stepts,t=[],v=[];this.Fl=[];var w=this.aa.Ci.slice(0);this.aa.Ci.length= 0;var y={},C={},A=[],b=[],D=[],B=[];if("object"===typeof this.ga.start&&!(this.ga.start instanceof H))x.extend(y,this.ga.start);else{y.title=a.start.wd||"\\u8d77\\u70b9";y.uid=a.start.uid;y.url=V.Nh(y.uid,a.start_city.code);var F=a.start.pt.split(",");y.point=R.Ab(new H(parseFloat(F[0]),parseFloat(F[1])));y.city=a.start_city.cname}this.aa.PC=a.start_city.code;if("object"===typeof this.ga.end&&!(this.ga.end instanceof H))x.extend(C,this.ga.end);else{var J,F=a.end[a.end.length-1];J=a.end_city[a.end_city.length- 1];this.aa.NC=J.code;C.title=F.wd||"\\u7ec8\\u70b9";C.uid=F.uid;"null"===C.uid&&(C.uid="");C.url=V.Nh(F.uid,J.code);F=F.pt.split(",");C.point=R.Ab(new H(parseFloat(F[0]),parseFloat(F[1])));C.city=J.cname}J=F=0;for(var L=l.length;J<L;J++){var K=l[J],i=i+K.distance,k=k+K.duration;f.push(K.distance);g.push(K.duration);for(var W=[],ea=[],fa=[],Ea=[],K=K.stepis,Ua=0,Qa=K.length;Ua<Qa;Ua++){for(var Aa=K[Ua],lc=Aa.s,Aa=Aa.n,pe=m.slice(lc,Aa+lc),nf=n.slice(lc,Aa+lc),fd=0;fd<Aa;fd++){for(var Lb=pe[fd],mc=nf[fd], qe=mc.end,re=mc.status,Mc=P.vb(Lb.path,o).ia,gd=0,se=[],hd=0,of=qe.length;hd<of;hd++){var te=qe[hd];se[hd]=Mc.slice(gd,gd+te+1);gd+=te}this.Fl[F]=Mc;ea=ea.concat(Mc);fa.push(Mc);Ea.push(re);Lb.hy=Mc;Lb.z4=mc;Lb.NF=re;Lb.M_=se;F++}W=W.concat(pe);v=v.concat(n.slice(lc,Aa+lc+1))}t.push(W);D.push(fa);B.push(Ea);b.push(ea)}l=[];J=0;for(g=b.length;J<g;J++)m=new vh({Aj:t[J],md:f[J],index:J,ia:D[J],NF:B[J],qy:this.Du}),l.push(m);J=new ph({fF:l,md:i,duration:k});f="";i={};D=p;D=k="string";t=this.k.ka.map; this.ga.start instanceof H&&(k="point");this.ga.end instanceof H&&(D="point");"point"===k&&"string"===D||"string"===k&&"point"===D?(D="nse",t.Hd(),x.extend(i,{region:c.name,zoom:t.fa()}),"string"===k?(i.origin=this.ga.start,i.destination=this.Mh(this.ga.end,this.ga.end.title?this.ga.end.title:this.ga.end)):(i.destination=this.ga.end,i.origin=this.Mh(this.ga.start,this.ga.start.title?this.ga.start.title:this.ga.start))):(D=ld,i.region=c.name,i.origin_region=a.start_city.cname,i.destination_region= a.end_city[0].cname,i.origin=this.Mh(this.ga.start,this.ga.start.title?this.ga.start.title:this.ga.start),i.destination=this.Mh(this.ga.end,this.ga.end.title?this.ga.end.title:this.ga.end));D!==p&&(f=z.Ac+"direction?"+Db(i)+"&output=html&mode=driving&src=baidu_map_jsapi");this.ja=this.Wu({city:c.name,Ft:[J],start:y,end:C,url:f,$c:a.sy,nO:e});this.aa.Kb.length=0;this.aa.xp.length=0;c=1;for(J=0;J<d.length;J++)e=d[J],f=(e.pt?e.pt:a.end[J].pt).split(","),f=R.Ab(new H(parseFloat(f[0]),parseFloat(f[1]))), f.vj=e.if_wp?e.if_wp:a.end[J].pt,A.push(f),this.aa.Ci.push({title:e.wd?e.wd:w[J]&&w[J].title?w[J].title:"\\u672a\\u77e5\\u8def\\u6bb5",curNo:c,point:f}),c++;this.aa.Kb.push(y.point);J=0;for(g=A.length;J<g;J++)this.aa.Kb.push(A[J]);this.aa.Kb.push(C.point);J=0;for(g=b.length;J<g;J++)a=b[J],a.Qk=J,a.kj=J+1,this.aa.xp.push(a);this.sb(0);this.Sa(V.Sc,this.ja)},Cl:function(){var a=this.Fa.result,b=this.Fa.content,c=this.Fa.current_city,d=b.kps,e=b.rss,f=a.waypoints,g={},i={};"object"===typeof this.ga.start&& !(this.ga.start instanceof H)?x.extend(g,this.ga.start):(g.title=a.start.wd||"\\u8d77\\u70b9",g.uid=a.start.uid,g.url=V.Nh(g.uid,a.start_city.code),g.point=P.vb(a.start.pt,o).point,g.city=a.start_city.cname);this.aa.PC=a.start_city.code;if("object"===typeof this.ga.end&&!(this.ga.end instanceof H))x.extend(i,this.ga.end);else{var k,l;k=a.end[a.end.length-1];l=a.end_city[a.end_city.length-1];this.aa.NC=l.code;i.title=k.wd||"\\u7ec8\\u70b9";i.uid=k.uid;"null"===i.uid&&(i.uid="");i.url=V.Nh(k.uid,l.code); i.point=P.vb(k.pt,o).point;i.city=l.cname}var m=[],n=[],t=[],v=0,w=[];this.Fl=[];l=[];k=[];var y=[],C=0;this.aa.Ci.length=0;for(var A=1,D=0,B=d.length-1;D<B;D++){var F=d[D],J=d[D+1],L=e[D],K=e[D-1]||{},W=e[D+1],ea=P.vb(F.pt,o).point,fa=P.vb(L.g,o);fa&&(y=y.concat(fa.ia));v+=W.d;3===F.rt?(1===f[A-1].if_wp&&(ea.vj=1),l.push(ea),k.push(y.slice(0)),y=[],m.push(n.slice(0)),n=[],t.push(v),v=0,this.aa.Ci.push({title:K.n||W.n||"\\u672a\\u77e5\\u8def\\u6bb5",curNo:A,point:ea}),A++):(n.push(new zh({point:ea,index:n.length, description:this.TR(F,L,W,D,B,K,J),md:W.d})),fa&&(this.Fl[C]=1<D?[w[w.length-1]].concat(fa.ia):fa.ia,w=w.concat(fa.ia)),C++)}0<y.length&&k.push(y);0<n.length&&m.push(n);0<v&&t.push(v);d=[];D=0;for(B=k.length;D<B;D++)e=new vh({Aj:m[D],md:t[D],index:D,ia:k[D],qy:this.Du}),d.push(e);D=b.time;this.ud===md&&(D=Math.round(b.dis/1.35));b=new ph({fF:d,md:b.dis,duration:D,nW:this.aa.Ci});D="";B={};f=p;f=d="string";e=this.k.ka.map;this.ga.start instanceof H&&(d="point");this.ga.end instanceof H&&(f="point"); "point"===d&&"string"===f||"string"===d&&"point"===f?(f="nse",e.Hd(),x.extend(B,{region:c.name,zoom:e.fa()}),"string"===d?(B.origin=this.ga.start,B.destination=this.Mh(this.ga.end,this.ga.end.title?this.ga.end.title:this.ga.end)):(B.destination=this.ga.end,B.origin=this.Mh(this.ga.start,this.ga.start.title?this.ga.start.title:this.ga.start))):(f=ld,B.region=c.name,B.origin_region=a.start_city.cname,B.destination_region=a.end_city[0].cname,B.origin=this.Mh(this.ga.start,this.ga.start.title?this.ga.start.title: this.ga.start),B.destination=this.Mh(this.ga.end,this.ga.end.title?this.ga.end.title:this.ga.end));f!==p&&(D=z.Ac+"direction?"+Db(B)+"&output=html&mode=driving&src=baidu_map_jsapi");this.ja=this.Wu({city:c.name,Ft:[b],start:g,end:i,url:D,$c:a.sy,nO:this.qS()});this.aa.Kb.length=0;this.aa.xp.length=0;this.aa.Kb.push(g.point);D=0;for(B=l.length;D<B;D++)this.aa.Kb.push(l[D]);this.aa.Kb.push(i.point);D=0;for(B=k.length;D<B;D++)a=k[D],a.Qk=D,a.kj=D+1,this.aa.xp.push(a);this.sb(0);this.Sa(V.Sc,this.ja)}, uH:function(){for(var a=0,b=this.ja.qf(0),c=0,d=b.Vs();c<d;c++)var e=b.ih(c),a=a+e.sx();return a},Uq:function(a){for(var b=0,c=this.ja.qf(0),d=0,e=c.Vs();d<e;d++)for(var f=c.ih(d),g=0,i=f.sx();g<i;g++){var k=f.AL(g);if(b===a)return k;b++}},TR:function(a,b,c,d,e,f,g){var i="",i=parseInt(b.d,10),k=b.poi;k&&(i-=k.pd);var i=qh(i),f=this.lA(f.t,f.n),k=this.lA(b.t,b.n),l=this.lA(b.t,c.n),m=this.AH(a.dw)||"",m=a.dr?m+"<span>"+a.dr+"</span>\\uff0c":"";3===g.rt&&(m+="\\u5230\\u8fbe<span>"+this.kA(g.rt)+"</span>\\uff0c"); c=k===l?"":this.mS(c.t,c.n)+"<span>"+l+"</span>";g=this.MH(a.ett||a.extt||a.tt);i=g+"<div class=\'navtrans-navlist-content\'>"+((""!==k&&f===k?"\\u7ee7\\u7eed":"")+this.nS(b.t,b.n))+k+this.kA(a.rt)+i+"\\uff0c"+this.jS(b)+this.rS(a)+m;0===d?i=g+"<div class=\'navtrans-navlist-content\'>\\u4ece\\u8d77\\u70b9\\u5411"+this.gv(a.ett||a.extt||a.tt)+"\\u51fa\\u53d1</div>":0<d&&d<e-1?((a=this.gv(a.ett||a.extt||a.tt))||(a=this.gv(1)),i=i+a+c+"</div>"):i+="\\u5230\\u8fbe\\u7ec8\\u70b9</div>";return i},IS:function(a,b,c){if(b&& c&&0<c.length)for(var d=0,e=c.length;d<e;d++){var f=a.bc(c[d]);if(U.VW(b,f)<=zd.oP)return o}return q},JT:function(){this.k.ka.map&&this.ja&&(this.OT(),this.LT())},LT:function(){for(var a=this.k.ka.map,b=this.ja.qf(0),c=b.ih(0),d=this.ja.rj(),e=this.ja.gh(),f=this,g=this.aa.Kb.length,i=[],k=[],l,m=0,n=this.aa.xp.length;m<n;m++){var t=this.aa.xp[m];l=U.Ql(a,t,c.bp());b.dk[m].Ti=l;l.Qk=t.Qk;l.kj=t.kj;t=l.Hd();i.push(t.se());i.push(t.of());this.Uz&&g<zd.hP+2&&(l.addEventListener("mousemove",function(b){f.aa.Wx? f.aa.qd&&f.aa.qd.U():(f.aa.Mw=this,f.aa.qd?f.IS(a,b.pixel,f.aa.Kb)?f.aa.qd.U():(f.aa.qd.show(),f.aa.qd.ta(b.point),f.aa.ie.ad("\\u62d6\\u52a8\\u4ee5\\u66f4\\u6539\\u8def\\u7ebf"),f.aa.ie.show(),f.aa.qd.an(f.aa.ie)):(f.aa.qd=U.EJ(a,b.point),f.aa.qd.Yb(),f.aa.qd.addEventListener("dragging",function(){f.LI(this,a,f.aa.Mw.Qk,f.aa.Mw.kj)}),f.aa.qd.addEventListener("dragend",function(){var a=f.aa.Aw,b=a.name,c=f.aa.Mw.kj;a.vj=p;f.aa.Kb.splice(c,0,a);f.aa.Ci.splice(c,0,{title:b?b:"\\u672a\\u77e5\\u8def\\u6bb5",curNo:c, point:a});this.ta(a);f.BB();f.Sz(d,e)}),f.aa.ie||(f.aa.ie=U.sK()),a.Ja(f.aa.qd)))}),l.addEventListener("mouseout",function(){f.aa.qd&&f.aa.qd.U()}));f.aa.$g.push(l);if(this.k.ed){c=b.ih(m);l=0;for(t=c.Nr.length;l<t;l++)for(var v=c.Nr[l],w=v.M_,v=v.NF,y=0,C=w.length;y<C;y++){if(v[y])var A=U.HJ(a,w[y],v[y]);k.push(A);f.aa.$g.push(A)}c.m1=k}}this.k.ka.Xg&&a.Ah(i,{margins:[30,30,30,30]});this.Sa(V.wu,b.dk)},OT:function(){var a=this.k.ka.map;this.ja.qf(0);for(var b=this.ja.rj(),c=this.ja.gh(),d=this,e= 0,f=0,g=this.aa.Kb.length;f<g;f++){var i=this.aa.Kb[f];if(0===f)i=U.to(a,i,b.title,Bh),b.marker=i,i.addEventListener("click",function(){d._select(0)}),this.wa.push(i);else if(f===this.aa.Kb.length-1)i=U.to(a,i,c.title,Ch),c.marker=i,i.addEventListener("click",function(){d._select(d.uH()+1)}),this.wa.push(i);else{i.vj?(i=U.KJ(a,i,e),e++,i.vj=1):i=U.EJ(a,i);this.aa.Ci[f-1].Km=i;var k=new dc;k.qw(new gc("\\u5220\\u9664\\u8be5\\u70b9",function(a,b,c){d._delVia(c.Ow)},{width:60}));i.so(k);d.aa.os.push(k)}i.Ow= f;this.Uz&&(i.Yb(),i.addEventListener("mouseover",function(){d.aa.Wx=o;d.aa.ie?(d.aa.ie.ad("\\u62d6\\u52a8\\u4ee5\\u66f4\\u6539\\u8def\\u7ebf"),d.aa.ie.show()):d.aa.ie=U.sK();this.an(d.aa.ie)}),i.addEventListener("mouseout",function(){this.KD()&&this.KD().U();d.aa.Wx=q}),i.addEventListener("dragging",function(){d.LI(this,a)}),i.addEventListener("dragend",function(){var a=d.aa.Aw,e=this.Ow;this.vj&&(a.vj=1);d.aa.Kb[e]=a;this.ta(a);var a=d.aa.Kb[0],f=d.aa.Kb[d.aa.Kb.length-1];0===e&&(b.point=a,b.title=d.aa.bK); e===d.aa.Kb.length-1&&(c.point=f,c.title=d.aa.aK);d.BB();d.Sz(b,c)}));d.aa.$g.push(i)}e=[b];e=e.concat(this.aa.Ci);e=e.concat([c]);this.Sa(V.Xp,e)},LI:function(a,b,c,d){var e=this;if(e.aa.OC!==o){e.aa.OC=o;setTimeout(function(){e.aa.OC=q},zd.iP);var f;f=R.zb(a.ha());var g=b.fa(),i=a.Ow,k=e.k.$c;if("undefiend"!==typeof c&&"undefined"!==typeof d){var l=e.aa.Kb[c],l=R.zb(l),i=e.aa.Kb[d],i=R.zb(i);f={qt:"drag",pt:f.lng+","+f.lat,sn:l.lng+","+l.lat,en:i.lng+","+i.lat,r:5E3,st:1,et:1,sy:k,l:g}}else 0=== i?(i=e.aa.Kb[i+1],i=R.zb(i),f={qt:"drag",pt:f.lng+","+f.lat,sn:"",en:i.lng+","+i.lat,r:5E3,st:1,et:1,sy:k,l:g}):i===this.aa.Kb.length-1?(l=e.aa.Kb[i-1],l=R.zb(l),f={qt:"drag",pt:f.lng+","+f.lat,sn:l.lng+","+l.lat,en:"",r:5E3,st:1,et:1,sy:k,l:g}):(l=e.aa.Kb[i-1],l=R.zb(l),i=e.aa.Kb[i+1],i=R.zb(i),f={qt:"drag",pt:f.lng+","+f.lat,sn:l.lng+","+l.lat,en:i.lng+","+i.lat,r:5E3,st:1,et:1,sy:k,l:g});dd.bb(function(a,b){e.RT(a,b)},f,{UV:a,map:b,Qk:c,kj:d})}},RT:function(a,b){if(a&&a.content){this.aa.Aw=P.vb(a.content.dragpt, o).point;var c,d=b.map,e=b.Qk,f=b.kj,g=b.UV.Ow;"undefiend"!==typeof e&&"undefined"!==typeof f?c=P.oN(a.content.geo).ia:0===g?(c=P.vb(a.content.geo,o).ia,this.aa.bK=a.content.name?a.content.name:"\\u8d77\\u70b9"):g===this.aa.Kb.length-1?(c=P.vb(a.content.geo,o).ia,this.aa.aK=a.content.name?a.content.name:"\\u7ec8\\u70b9"):c=P.oN(a.content.geo).ia;c&&(this.AQ(g,d,e,f),this.aa.Bo?this.aa.Bo.he(c):(e=this.ja.qf(0).ih(0),this.aa.Bo=U.Ql(d,c,e.bp())));c=a.content.name?a.content.name:"\\u672a\\u77e5\\u8def\\u6bb5"; this.aa.Aw.name=c;d="("+qh(a.content.dis)+")";this.aa.ie&&this.aa.ie.show();this.aa.ie&&this.aa.ie.ad(c+d)}},AQ:function(a,b,c,d){for(var e=0,f=this.aa.$g.length;e<f;e++){var g=this.aa.$g[e];if(g instanceof Dc)if("undefiend"!==typeof c&&"undefined"!==typeof d){if(g.Qk===c&&g.kj===d){b.Tb(g);break}}else(g.Qk===a||g.kj===a)&&b.Tb(g)}this.dg&&this.dg.U()},_select:function(a){var b=this.kb,c=this.k.ka;if(c.Ha){var d=c.Ha.getElementsByTagName("table"),d=d[d.length-1].getElementsByTagName("tr");0<=b-1&& d[b-1]&&(d[b-1].style.background="");0<=a-1&&d[a-1]&&(d[a-1].style.background="#f0f0f0")}var e=c.map;if(e){var b=this.ja.qf(0).ih(0),d=this.uH(),f=this;e.Wc();if(0===a||a===d+1){var g=0===a?this.ja.rj():this.ja.gh(),i=U.Kw({content:"<b>"+g.title+"</b>",total:d,Nw:a,Zx:function(a){f._select(a)},TX:1===c.bt?q:o});i.addEventListener("open",function(){f.Sa(V.yn,g,U.Rs(e))});i.addEventListener("close",function(){if(f.k.ka.Ha){var a=c.Ha.getElementsByTagName("table");if(a=a[a.length-1])a=a.getElementsByTagName("tr"), 0<=f.kb-1&&a[f.kb-1]&&(a[f.kb-1].style.background="")}f.kb=-1});var k=0===a?0:1,f=this;e.K.km?be.jp(i,e.getCurrentCity().code,{panoInstance:e.P,lngLat:g.point,titleTip:g.title,type:"busline",beforeDomId:"trans_nav"},function(){f.wa[k].Nb(i)}):f.wa[k].Nb(i);this.dg&&this.dg.U()}else{var l=c.bt;if(1===l){var m=this.Uq(a-1),i=U.Kw({content:m.fh()?m.fh(q):m.instructions,total:d,Nw:a,Zx:function(a){f._select(a)}});i.addEventListener("open",function(){f.Sa(V.yn,m,U.Rs(e))});i.addEventListener("close",function(){if(f.k.ka.Ha){var a= c.Ha.getElementsByTagName("table");if(a=a[a.length-1])a=a.getElementsByTagName("tr"),0<=f.kb-1&&a[f.kb-1]&&(a[f.kb-1].style.background="")}f.kb=-1});var n=m.ha?m.ha():m.hy[m.hy.length-1],f=this;e.K.km?be.jp(i,e.getCurrentCity().code,{panoInstance:e.P,lngLat:n,titleTip:m.fh?m.fh(q):m.instructions,type:"driving",beforeDomId:"trans_nav"},function(){e.Nb(i,n)}):e.Nb(i,n)}else if(2===l)if(1===a&&!this.k.ed)m=this.Uq(0),e.Wf(m.ha?m.ha():m.hy[m.hy.length-1]),c.Xg&&e.Nc(17),this.dg&&this.dg.U();else if(this.Fl[a- 1]&&(this.dg?(this.dg.he(this.Fl[a-1]),this.dg.show()):this.dg=U.Ql(e,this.Fl[a-1],b.bp()+2),c.Xg))b=e.Zs(this.dg.Hd()),17<b.zoom&&(b.zoom=17),e.Ah(b)}}this.kb=a},_toggle:function(){var a=this.k.ka;if(a.Ha){var b=x.getElementsByClassName(a.Ha,"navtrans-res");b&&0<b.length&&(b=b[0],b.style.display=b&&"none"===b.style.display?"":"none");if((a=x.getElementsByClassName(a.Ha,"navtrans-view"))&&0<a.length)a=a[0],x.D.D_(a)}},Kj:function(){var a=this.k.ka.map;if(a){for(var b=0,c=this.wa.length;b<c;b++)a.Tb(this.wa[b]), this.wa[b]=p;this.wa.length=0;a.Tb(this.dg);this.dg=p;if(this.aa){this.aa.qd&&(a.Tb(this.aa.qd),this.aa.qd=p);this.aa.ie&&(a.Tb(this.aa.ie),this.aa.ie=p);b=0;for(c=this.aa.$g.length;b<c;b++)a.Tb(this.aa.$g[b]),this.aa.$g[b]=p;this.aa.$g.length=0;this.aa.Bo&&(a.Tb(this.aa.Bo),this.aa.Bo=p);b=0;for(c=this.aa.os.length;b<c;b++)a.zp(this.aa.os[b]),this.aa.os[b]=p;this.aa.os.length=0;this.aa.Wx=q}}},_delVia:function(a){if(this.ja){var b=this.ja.rj(),c=this.ja.gh();this.aa.Kb.splice(a,1);this.BB();this.Sz(b, c)}},Dl:function(){if(this.k.ka.Ha&&this.k.ka.Ha.appendChild&&this.ja&&0<this.ja.qx()){var a=this.ja.qf(0),b=M("div",{style:"font:12px "+E.fontFamily+";background:#fff"}),c=this.aa.Ci,d=c.length,e=[],f=this.ud===ld,f=wd.qH(this.ja.gh().title,f?"\\u9a7e\\u8f66":"\\u6b65\\u884c",0<d);if(0<d){e.push("<table style=\'width:100%;margin-left:4px;font:12px "+E.fontFamily+";border-collapse:collapse\' cellpadding=\'0\' cellspacing=\'0\' border=\'0\'>");for(var g=0;g<d;g++)e.push("<tr>"),0===g&&(1===d?e.push(\'<td style="padding:2px 5px;line-height:20px">\\u9014\\u7ecf\\u70b9</td>\'): e.push(\'<td valign="top" rowspan="\'+d+\'" style="padding:2px 5px;line-height:18px">\\u9014\\u7ecf\\u70b9</td>\')),e.push(\'<td style="padding:2px 5px;line-height:20px">\'+c[g].title+"</td>"),e.push(\'<td style="padding:2px 10px;line-height:20px;cursor:pointer;color:#0000ff" onclick=\\\'Instance("\'+this.ba+\'")._delVia(\'+c[g].curNo+")\'>\\u5220\\u9664</td>"),e.push("</tr>");e.push("</table>")}for(var c=wd.rH(this.ja.rj().title,\'Instance("\'+this.ba+\'")._select(0)\',0),d=["<table class=\'navtrans-table\' style=\'width:100%;font:12px "+ E.fontFamily+";border-collapse:collapse\' cellpadding=\'0\' cellspacing=\'0\' border=\'0\'>"],i=0,k=0,l=a.Vs();k<l;k++)for(var m=a.ih(k),g=0,m=m.sx();g<m;g++){var n="";this.kb===i+1&&(n=";background:#f0f0f0");d.push(\'<tr style="cursor:pointer\'+n+\'" onclick=\\\'Instance("\'+this.ba+\'")._select(\'+(i+1)+")\'>");d.push("<td style=\'border-bottom:1px solid #E4E6E7;padding:10px;line-height:20px;\' >"+(this.Uq(i).fh?this.Uq(i).fh():this.Uq(i).instructions)+"</td>");d.push("</tr>");i++}d.push("</table>");g=wd.rH(this.ja.gh().title, \'Instance("\'+this.ba+\'")._select(\'+(i+1)+")",1);a="<div class=\'navtrans-view expand\' style=\'position:relative;color:#7777cc;background:#e5ecf9;height:53px;overflow:hidden;text-align:right\' onclick=\'Instance(\\""+this.ba+"\\")._toggle()\'><span class=\'suggest-plan\'>\\u63a8\\u8350</span><div class=\'suggest-plan-des\'>"+a.Re().replace(/(\\d+(?:.\\d+)?)/,"$1 ")+"&nbsp;&nbsp;|&nbsp;&nbsp;"+a.Qs().replace(/(\\d+)/,"$1 ")+"</div>";this.ja.moreResultsUrl&&(a+="<a style=\'color:#7777cc;position:absolute;top:5px;right:20px;\' href=\'"+ this.ja.moreResultsUrl+"\' target=\'_blank\'>\\u5230\\u767e\\u5ea6\\u5730\\u56fe\\u67e5\\u770b&#187;</a>");b.innerHTML=f+(a+"&nbsp;<span class=\'navtrans-arrow\'></span></div>")+("<div class=\'navtrans-res\'>"+e.join("")+c+d.join("")+g+"</div>");this.k.ka.Ha.appendChild(b);this.Sa(V.xu,b)}},lA:function(a,b){if(""===b||!b)if(9===a||12===a||1===a||16===a)b=zd.zP[a];return b},jS:function(a){var b="",c=a.poi;c&&(b=this.JH(c.ps)||"",b=(this.KH(c.pw)||"")+b+"<b>"+c.pn+"</b>"+(c.pd<(13===a.oa||4===a.oa?1E3:50)?"":"\\u7ea6"+ qh(c.pd)+"\\u540e")+(""===b?"":"\\uff0c"));return b},rS:function(a){var b=a.iw;return!a.ic?"":(this.FH(b)||"")+"<b>"+a.ic+"</b>"+(this.GH(b)||"")},nS:function(a,b){var c="\\u6cbf";if(0===a||!b&&1!==a&&16!==a&&9!==a&&12!==a)c="";return c},mS:function(a,b){var c="\\u8fdb\\u5165";if(!b&&(9===a||12===a))c="\\u4e0a";else if(0===a||!b&&1!==a&&16!==a)c="";return c},qS:function(){if(this.Fa&&this.Fa.content&&this.Fa.content.taxi){var a=this.Fa.content.taxi,b={distance:a.dis,remark:a.remark};if(a.detail[0]){var c= a.detail[0];b.day={initialFare:parseFloat(c.startPrice),unitFare:parseFloat(c.kmPrice),totalFare:parseFloat(c.totalPrice)}}a.detail[1]&&(a=a.detail[1],b.night={initialFare:parseFloat(a.startPrice),unitFare:parseFloat(a.kmPrice),totalFare:parseFloat(a.totalPrice)});return b}return p}});Ad.hz=" \\u76f4\\u884c \\u53f3\\u524d\\u65b9\\u8f6c\\u5f2f \\u53f3\\u8f6c \\u53f3\\u540e\\u65b9\\u8f6c\\u5f2f \\u8c03\\u5934 \\u5de6\\u540e\\u65b9\\u8f6c\\u5f2f \\u5de6\\u8f6c \\u5de6\\u524d\\u65b9\\u8f6c\\u5f2f \\u9760\\u5de6 \\u76f4\\u884c \\u9760\\u53f3 \\u6b63\\u5317\\u65b9\\u5411 \\u4e1c\\u5317\\u65b9\\u5411 \\u6b63\\u4e1c\\u65b9\\u5411 \\u4e1c\\u5357\\u65b9\\u5411 \\u6b63\\u5357\\u65b9\\u5411 \\u897f\\u5357\\u65b9\\u5411 \\u6b63\\u897f\\u65b9\\u5411 \\u897f\\u5317\\u65b9\\u5411".split(" "); Ad.ez=["","\\u4ece\\u8d77\\u70b9\\u51fa\\u53d1","\\u5230\\u8fbe\\u76ee\\u7684\\u5730","\\u9014\\u7ecf\\u70b9","\\u884c\\u9a76"];Ad.hq="s-1 s-1 s-2 s-3 s-4 s-5 s-6 s-7 s-8 s-9 s-1 s-10        ".split(" ");Ad.Zy=["\\u5728","\\u4ece","\\u4ece"];Ad.$y=["","","\\u79bb\\u5f00"];Ad.dz=["\\u8fc7","\\u5728"];Ad.cz=["\\u5de6\\u4fa7\\u7684","\\u53f3\\u4fa7\\u7684",""];Ad.Uy=["","\\u671d"]; x.extend(Ad.prototype,{Wu:function(a){return new lh(a)},gv:function(a){return Ad.hz[a]},MH:function(a){return\'<span class="navtrans-navlist-icon \'+(Ad.hq[a]?Ad.hq[a]:"")+\'"></span>\'},kA:function(a){return Ad.ez[a]},FH:function(a){return Ad.Zy[a]},GH:function(a){return Ad.$y[a]},KH:function(a){return Ad.dz[a]},JH:function(a){return Ad.cz[a]},AH:function(a){return Ad.Uy[a]}});Bd.hz=" \\u76f4\\u8d70 \\u5411\\u53f3\\u524d\\u65b9\\u8f6c \\u53f3\\u8f6c \\u5411\\u53f3\\u540e\\u65b9\\u8f6c \\u5411\\u540e\\u8f6c \\u5411\\u5de6\\u540e\\u65b9\\u8f6c \\u5de6\\u8f6c \\u5411\\u5de6\\u524d\\u65b9\\u8f6c \\u5de6\\u8f6c\\u7a7f\\u8fc7\\u9a6c\\u8def\\u5e76\\u7ee7\\u7eed\\u5411\\u524d \\u53f3\\u8f6c\\u7a7f\\u8fc7\\u9a6c\\u8def\\u5e76\\u7ee7\\u7eed\\u5411\\u524d \\u5de6\\u8f6c\\u7a7f\\u8fc7\\u9a6c\\u8def\\u5e76\\u5f80\\u56de\\u8d70 \\u53f3\\u8f6c\\u7a7f\\u8fc7\\u9a6c\\u8def\\u5e76\\u5f80\\u56de\\u8d70 \\u6b63\\u5317\\u65b9\\u5411 \\u4e1c\\u5317\\u65b9\\u5411 \\u6b63\\u4e1c\\u65b9\\u5411 \\u4e1c\\u5357\\u65b9\\u5411 \\u6b63\\u5357\\u65b9\\u5411 \\u897f\\u5357\\u65b9\\u5411 \\u6b63\\u897f\\u65b9\\u5411 \\u897f\\u5317\\u65b9\\u5411    ".split(" "); Bd.hq="s-1 s-1 s-2 s-3 s-4 s-5 s-6 s-7 s-8 s-7 s-3 s-7 s-3            ".split(" ");Bd.ez=["","\\u4ece\\u8d77\\u70b9\\u51fa\\u53d1","\\u5230\\u8fbe\\u76ee\\u7684\\u5730","\\u9014\\u7ecf\\u70b9","\\u8d70"];Bd.Zy=["\\u5728","\\u4ece","\\u4ece"];Bd.$y=["","","\\u79bb\\u5f00"];Bd.dz=["\\u8fc7","\\u5728"];Bd.cz=["\\u5de6\\u4fa7\\u7684","\\u53f3\\u4fa7\\u7684",""];Bd.Uy=["","\\u671d"]; x.extend(Bd.prototype,{Wu:function(a){delete a.url;return new mh(a)},gv:function(a){return Bd.hz[a]},MH:function(a){return\'<span class="navtrans-navlist-icon \'+(Bd.hq[a]?Bd.hq[a]:"")+\'"></span>\'},kA:function(a){return Bd.ez[a]},FH:function(a){return Bd.Zy[a]},GH:function(a){return Bd.$y[a]},KH:function(a){return Bd.dz[a]},JH:function(a){return Bd.cz[a]},AH:function(a){return Bd.Uy[a]}});x.extend(Fd.prototype,{Qd:function(a,b,c){this.KL("web",this.GL(a,b,c))},KN:function(a,b,c){this.KL("web",this.GL(a,b,c))},WN:function(a,b){var c=this.rh,d="";a&&a.tM&&a.name?(d=a.tM,d="latlng:"+d.lat+","+d.lng,d+="|name:"+a.name):d=(d=a.tM)?d.lat+","+d.lng:a.name?a.name:"";c[b]=d},GL:function(a,b,c){this.WN(a,"origin");this.WN(b,"destination");var c=this.rh=x.object.extend(this.rh,c),a=[],d="";if("undefined"===typeof c.origin||""===c.origin)c.origin="";var b={destination:q,mode:q},e;for(e in c)d= e+"="+c[e],a.push(d),"undefined"!==typeof b[e]&&(b[e]=o);this.mode=c.mode;b.mode===q&&(this.mode="driving",a.push("mode=driving"),b.mode=o);e=o;for(var f in b)e=e&&b[f];return e?a.join("&"):q},KL:function(a,b,c){b&&(b=jh[a]+b+"&src=baidu|jsapi",Ra(7E3,{mode:this.mode}),"web"===a&&(b+="&output=html"),location.href=b,c&&c())}}); ');
