_jsload2&&_jsload2('menu', 'x.object.extend(dc.prototype,{ra:function(a,b){if(this.B)return q;this.C=a;this.wl=b||p;this.Aa();var c=this,d=a.K.Xb;b&&b.z.hf&&(d="pointer");this.B.style.cursor=d;this.Ad&&(this.Ad.style.cursor=d);x.M(document,"mousedown",function(){c.B&&c.U()});x.M(this.B,"click",function(a){c.U();na(a)});d=this.k.Va;d||(d=a.Va);this.wl?this.wl.addEventListener("rightclick",function(a){c.B&&c.dJ(a)}):a.addEventListener("rightclickex",function(a){c.B&&(!a.ab&&!a.Cb)&&c.dJ(a)});for(var d=0,e=this.ya.length;d<e;d++)"menuitem"== this.ya[d].Mb&&this.ya[d].ra(a,this),"divider"==this.ya[d].Mb&&(this.Ce[this.ya[d].Nj].D=yb(this.B,"<div class=\'BMap_cmDivider\'></div>"));this.Tr()},yb:function(){this.C&&(this.ra(this.C,this.wl),this.Ph&&(this.Ph=q,this.show()))},remove:function(){this.B&&(this.B.parentNode.removeChild(this.B),this.B=p);this.Ad&&(this.Ad.parentNode.removeChild(this.Ad),this.Ad=p);for(var a=0,b=this.ya.length;a<b;a++)"menuitem"==this.ya[a].Mb&&(this.ya[a].B=p);this.C=this.wl=p},Aa:function(){this.B=yb(this.C.Va,"<div unselectable=\'on\'></div>"); this.B.className="BMap_contextMenu";var a=this.B.style;a.font="12px "+E.fontFamily;9>x.da.la?this.Ad=yb(this.C.Va,"<div class=\'BMap_cmShadow\'></div>"):a.jV=a.qP=a.WebkitBoxShadow="1px 2px 6px #666";return this.B},qw:function(a){if(a&&!("menuitem"!=a.Mb||""==a.Tg||0>=a.Zi)){for(var b=0,c=this.ya.length;b<c;b++)if(this.ya[b]===a)return;this.ya.push(a);this.If.push(a);this.C&&(a.ra(this.C,this),x.D.Ua(a.Id(),"BMap_cmLstItem"),1<this.ya.length?"menuitem"==this.ya[this.ya.length-2].Mb&&x.D.Sb(this.ya[this.ya.length- 2].Id(),"BMap_cmLstItem"):"menuitem"==this.ya[0].Mb&&x.D.Ua(this.ya[0].Id(),"BMap_cmFstItem"),this.Tr())}},removeItem:function(a){if(a&&"menuitem"==a.Mb){for(var b=0,c=this.ya.length;b<c;b++)this.ya[b]===a&&(this.ya[b].remove(),this.ya.splice(b,1),c--);b=0;for(c=this.If.length;b<c;b++)this.If[b]===a&&(this.If[b].remove(),this.If.splice(b,1),c--);this.B&&(0<this.ya.length&&"menuitem"==this.ya[this.ya.length-1].Mb&&x.D.Ua(this.ya[this.ya.length-1].Id(),"BMap_cmLstItem"),this.Tr())}},PB:function(){this.ya.push({Mb:"divider", Nj:this.Ce.length});this.Ce.push({D:p});this.B&&(this.Ce[this.Ce.length-1].D=yb(this.B,"<div class=\'BMap_cmDivider\'></div>"),this.Tr())},bF:function(a){if(this.Ce[a]){this.Ce[a].D&&this.Ce[a].D.parentNode&&this.Ce[a].D.parentNode.removeChild(this.Ce[a].D);for(var b=0,c=this.ya.length;b<c;b++)this.ya[b]&&("divider"==this.ya[b].Mb&&this.ya[b].Nj==a)&&(this.ya.splice(b,1),c--),this.ya[b]&&("divider"==this.ya[b].Mb&&this.ya[b].Nj>a)&&this.ya[b].Nj--;this.Ce.splice(a,1);this.Tr()}},ta:function(a,b){this.B.style.left= a+"px";this.B.style.top=b+"px";this.Ad&&(this.Ad.style.left=a+1+"px",this.Ad.style.top=b+2+"px")},show:function(){if(this.Ph!=o&&0!=this.If.length){this.Ph=o;this.B&&(this.B.style.visibility="visible");this.Ad&&(this.Ad.style.visibility="visible");var a=new O("onopen");a.point=this.Pw;a.pixel=this.hs;this.dispatchEvent(a)}},U:function(){if(this.Ph!=q){this.Ph=q;this.B&&(this.B.style.visibility="hidden");this.Ad&&(this.Ad.style.visibility="hidden");var a=new O("onclose");a.point=this.Pw;a.pixel=this.hs; this.dispatchEvent(a)}},NZ:function(a){if(a&&(this.k.cursor=a,this.B&&(this.B.style.cursor=this.k.cursor),this.Ad))this.Ad.style.cursor=this.k.cursor},Tr:function(){this.B&&this.Ad&&(this.Ad.style.width=this.B.offsetWidth+"px",this.Ad.style.height=this.B.offsetHeight+"px")},dJ:function(a){if(0!=this.If.length){this.hs=a.jb;this.Pw=this.C.wb(this.hs);var b=this.Id().offsetHeight,c=this.Id().offsetWidth,d=a.jb.x,e=a.jb.y;a.jb.x+c>this.C.width&&(d=a.jb.x-c);a.jb.y+b>this.C.height&&(e=a.jb.y-b);this.ta(d, e);this.show()}}});S(pf,{addItem:pf.qw,removeItem:pf.removeItem,addSeparator:pf.PB,removeSeparator:pf.bF});x.object.extend(gc.prototype,{ra:function(a,b){if(this.B)return q;this.C=a;this.Hh=b;b.Id()&&(this.Aa(),this.ca(),this.Lh||(this.Lh=o,this.disable()));return o},remove:function(){this.B&&(this.B.parentNode.removeChild(this.B),this.B=p);this.C=this.Hh=p},yb:function(){this.Hh&&this.C&&this.ra(this.C,this.Hh)},Aa:function(){var a=this.k.Bm?"<div"+(this.k.id?" id=\'"+this.k.id+"\'":"")+" unselectable=\'on\'><div style=\'width: 17px;height: 17px;margin-right: 3px;display: inline-block;zoom: 1;*display: inline;vertical-align: middle;background: url("+ this.k.Bm+") no-repeat;\'></div><span style=\'vertical-align: middle;\'>"+this.Tg+"</span></div>":"<div"+(this.k.id?" id=\'"+this.k.id+"\'":"")+" unselectable=\'on\'><span>"+this.Tg+"</span></div>";this.B=yb(this.Hh.Id(),a);this.k.Bm?(this.lv=this.B.firstChild,this.Pr=this.B.lastChild):this.Pr=this.B;a=this.B.style;a.padding="2px 6px";a.margin="0 2px";a.fontSize="14px";a.MozUserSelect="none";a.lineHeight="17px";a.width=this.k.width+"px";this.Lh?(a.color="#000",a.cursor="pointer"):(a.color="#aaa",a.cursor= this.C.K.Xb);return this.B},ca:function(){var a=this;x.M(this.B,"click",function(b){a.Lh?a.xz&&a.xz.call&&a.xz.call(a,a.Hh.Pw,a.Hh.hs,a.Hh.wl):na(b)});x.M(this.B,"mousedown",function(a){na(a)});x.M(this.B,"mouseover",function(){a.Lh&&(a.B.style.color="#6688cc")});x.M(this.B,"mouseout",function(){a.Lh&&(a.B.style.color="#000")})},Ut:function(a){a&&(this.Tg=a+"",this.Pr&&(this.Pr.innerHTML="<span>"+this.Tg+"</span>"))},Ub:function(a){a&&(this.k.Bm=a,this.lv?this.lv.style.background="url("+a+")":(this.B.innerHTML= "<div"+(this.k.id?" id=\'"+this.k.id+"\'":"")+" unselectable=\'on\'><div style=\'width: 17px;height: 17px;margin-right: 3px;display: inline-block;zoom: 1;*display: inline;vertical-align: middle;background: url("+this.k.Bm+") no-repeat;\'></div><span style=\'vertical-align: middle;\'>"+this.Tg+"</span></div>",this.lv=this.B.firstChild,this.Pr=this.B.lastChild))},enable:function(){this.Lh=o;this.B&&(this.B.style.color="#000",this.B.style.cursor="pointer")},disable:function(){this.Lh=q;this.B&&(this.B.style.color= "#aaa",this.B.style.cursor=this.C.K.Xb)}});S(qf,{setIcon:qf.Ub,setText:qf.Ut,enable:qf.enable,disable:qf.disable}); ');
